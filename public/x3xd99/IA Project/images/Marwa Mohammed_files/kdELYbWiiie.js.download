if (self.CavalryLogger) { CavalryLogger.start_js(["bTuDI"]); }

__d("QuicksilverConstants",[],(function a(b,c,d,e,f,g){f.exports={GK_MASTER_SWITCH:"games_quicksilver_master_switch",GK_DEVELOPMENT:"games_quicksilver_in_development",GK_BETA:"games_quicksilver_in_beta",GK_MOBILE_FEED:"games_quicksilver_mobile_feed",GK_ENABLED_MAIN_APPS:"games_quicksilver_mobile_feed_apps",GAMES_QUICKSILVER_FUNNEL:"GAMES_QUICKSILVER_FUNNEL",FUNNEL_SOURCE_FB_FEED:"fb_feed",FUNNEL_SOURCE_FB_FEED_SCREENSHOT:"fb_feed_screenshot",FUNNEL_SOURCE_FB_FEED_EGO:"fb_feed_ego",FUNNEL_SOURCE_FB_CANVAS:"fb_canvas",FUNNEL_SOURCE_FB_GROUP_MALL:"fb_group_mall",FUNNEL_SOURCE_FB_GROUP_COMPOSER:"fb_group_composer",FUNNEL_SOURCE_FB_GROUP_GAMES_TAB:"fb_group_games_tab",FUNNEL_SOURCE_FB_GROUP_NEWS_FEED:"fb_group_news_feed",FUNNEL_SOURCE_FB_GROUP_RHC_LEADERBOARD:"fb_group_rhc_leaderboard",FUNNEL_SOURCE_FB_GROUP_MALL_SCREENSHOT:"fb_group_mall_screenshot",FUNNEL_SOURCE_FB_GROUP_NEWSFEED_SCREENSHOT:"fb_group_newsfeed_screenshot",FUNNEL_SOURCE_FB_GROUP_MALL_EGO:"fb_group_mall_ego",FUNNEL_SOURCE_MESSENGER_ADMIN_MESSAGE:"messenger_admin_message",FUNNEL_SOURCE_MESSENGER_COMPOSER:"messenger_composer",FUNNEL_SOURCE_MESSENGER_GAME_EMOJI:"messenger_game_emoji",FUNNEL_SOURCE_MESSENGER_GAME_SHARE:"messenger_game_share",FUNNEL_SOURCE_MESSENGER_GAME_SCORE_SHARE:"messenger_game_score_share",FUNNEL_SOURCE_MESSENGER_GAME_SEARCH:"messenger_game_search",FUNNEL_SOURCE_EMBEDDED_PLAYER:"embedded_player"};}),null);
__d('wrapNullableForReact',[],(function a(b,c,d,e,f,g){'use strict';function h(i){if(i!=null){return i;}else return undefined;}f.exports=h;}),null);
__d('MessengerContactAdapters',['immutable','ImmutableObject','MercuryTypeaheadConstants'],(function a(b,c,d,e,f,g){var h={fromSearchableEntry:function i(j){var k=j.getType(),l={alias:null,isMessengerUser:null,isWorkUser:null,participants:null,photo:j.getPhoto(),subtitle:j.getSubtitle(),thread:null,title:j.getTitle(),type:k,uid:j.getUniqueID()},m=j.getAuxiliaryData();if(m)if(k===c('MercuryTypeaheadConstants').THREAD_TYPE){l.thread=new (c('ImmutableObject'))(m.thread);l.participants=c('immutable').Map().withMutations(function(n){m.participantsToRender.forEach(function(o){n.set(o.id,o);});});}else{l.isMessengerUser=m.isMessengerUser;l.isWorkUser=m.isWorkUser;l.alias=m.alias;}return new (c('ImmutableObject'))(l);},fromMercuryParticipant:function i(j){return new (c('ImmutableObject'))({alias:j.alias,uid:j.id,photo:j.image_src,title:j.name,subtitle:'',type:j.type,isMessengerUser:j.is_messenger_user,isWorkUser:j.is_work_user,href:j.href,timezone:j.timezone});}};f.exports=h;}),null);
__d('MessengerGraphQLTypeaheadAdapter',['MercuryIDs','MercuryParticipantTypes','MercuryTypeaheadConstants','RelayQL','SearchableEntry'],(function a(b,c,d,e,f,g){'use strict';function h(j){return c('MercuryIDs').isValid(j)?j:c('MercuryIDs').getParticipantIDFromUserID(j);}var i={convertProfileToEntry:function j(k){if(!k||!k.id||!k.name||k.is_memorialized)return null;var l=c('MercuryParticipantTypes').NON_FRIEND;if(k.is_viewer_friend||k.is_viewer_coworker&&k.viewer_affinity>0){l=c('MercuryParticipantTypes').FRIEND;}else if(k.is_viewer_coworker)l=c('MercuryParticipantTypes').FB4C;return new (c('SearchableEntry'))({uniqueID:k.id,title:k.name,type:l,photo:k.profile_picture&&k.profile_picture.uri,uri:k.url,auxiliaryData:{isMessengerUser:k.is_messenger_user,isWorkUser:k.is_work_user},order:-k.viewer_affinity});},convertPageToEntry:function j(k,l){if(!k||!k.id||!k.name)return null;if(k.instant_game_info)return this.convertGameToEntry(k);return new (c('SearchableEntry'))({uniqueID:k.id,title:k.name,type:l,photo:k.profile_picture&&k.profile_picture.uri,uri:k.url,auxiliaryData:{isMessengerUser:k.is_messenger_user,isWorkUser:k.is_work_user},order:0});},convertGameToEntry:function j(k,l){if(!k||!k.id||!k.name||!k.instant_game_info)return null;return new (c('SearchableEntry'))({uniqueID:k.id,title:k.name,type:c('MercuryTypeaheadConstants').GAME_TYPE,photo:k.instant_game_info&&k.instant_game_info.icon_uri,uri:k.instant_game_info&&k.instant_game_info.game_uri,order:0});},convertGroupToEntry:function j(k,l){if(!k||!k.thread_key||!k.is_group_thread)return null;var m=k.thread_key.thread_fbid;if(!m)return null;var n=k.image&&k.image.uri,o=k.other_participants.edges.map(function(s){return s.node.messaging_actor.name;}).join(', '),p=k.name,q=null;if(!p){p=o;}else q=o;if(!p)return null;var r={};r.thread={thread_id:m,other_user_fbid:null,image_src:n,participants:k.other_participants.edges.map(function(s){return h(s.node.messaging_actor.id);})};r.participantsToRender=k.other_participants.edges.map(function(s){return {id:h(s.node.messaging_actor.id),is_messenger_user:s.node.messaging_actor.is_messenger_user};});return new (c('SearchableEntry'))({uniqueID:m,order:l,photo:n,title:p,subtitle:q,type:c('MercuryParticipantTypes').THREAD,auxiliaryData:r});},userFragment:function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{fieldName:'is_memorialized',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'is_viewer_friend',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'is_viewer_coworker',kind:'Field',metadata:{},type:'Boolean'},{calls:[{kind:'Call',metadata:{},name:'width',value:{kind:'CallValue',callValue:32}},{kind:'Call',metadata:{},name:'height',value:{kind:'CallValue',callValue:32}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'profile_picture',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'url',kind:'Field',metadata:{},type:'Url'},{fieldName:'is_messenger_user',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'is_work_user',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'viewer_affinity',kind:'Field',metadata:{},type:'Float'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerGraphQLTypeaheadAdapter_UserFragmentRelayQL',type:'User'};}(),pageFragment:function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{calls:[{kind:'Call',metadata:{},name:'width',value:{kind:'CallValue',callValue:32}},{kind:'Call',metadata:{},name:'height',value:{kind:'CallValue',callValue:32}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'profile_picture',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'url',kind:'Field',metadata:{},type:'Url'},{fieldName:'is_messenger_user',kind:'Field',metadata:{},type:'Boolean'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerGraphQLTypeaheadAdapter_PageFragmentRelayQL',type:'Page'};}(),groupFragment:function(){return {children:[{children:[{fieldName:'thread_fbid',kind:'Field',metadata:{},type:'String'}],fieldName:'thread_key',kind:'Field',metadata:{canHaveSubselections:true},type:'MessageThreadKey'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'is_group_thread',kind:'Field',metadata:{},type:'Boolean'},{calls:[{kind:'Call',metadata:{},name:'first',value:{kind:'CallValue',callValue:250}}],children:[{children:[{children:[{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{fieldName:'is_messenger_user',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'User',type:'User'}],fieldName:'messaging_actor',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'MessagingActor'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'MessagingParticipant'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'MessagingParticipantsOfThreadEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'other_participants',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'MessagingParticipantsOfThreadConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerGraphQLTypeaheadAdapter_GroupFragmentRelayQL',type:'MessageThread'};}(),gameFragment:function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{fieldName:'name',kind:'Field',metadata:{},type:'String'},{children:[{fieldName:'icon_uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'instant_game_info',kind:'Field',metadata:{canHaveSubselections:true},type:'GamesInstantPlayStyleInfo'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerGraphQLTypeaheadAdapter_GameFragmentRelayQL',type:'Application'};}()};f.exports=i;}),null);
__d('MessengerGraphQLTypeaheadHighlighter',['Keys','MercuryTypeaheadConstants','MessengerTypeaheadUtils'],(function a(b,c,d,e,f,g){'use strict';var h={getNextHighlightedEntry:function i(j,k,l,m){var n=[];c('MessengerTypeaheadUtils').getEntryOrder(l).forEach(function(r){return n.push.apply(n,k.filter(function(s){return (c('MessengerTypeaheadUtils').areSectionsEqual(s.getType(),r));}));});if(!m){if(n.length===0)return null;if(j===c('Keys').DOWN){var o=n[0];if(o.getType()===c('MercuryTypeaheadConstants').SEARCH_TYPE&&n.length>1)return n[1];return o;}if(j===c('Keys').UP)return n[n.length-1];return null;}var p=m.getUniqueID(),q=n.findIndex(function(r){return r.getUniqueID()===p;});if(q===-1)return null;if(j===c('Keys').DOWN){q+=1;if(q>=n.length)q=0;}else if(j===c('Keys').UP){q-=1;if(q<0)q=n.length-1;}return n[q];}};f.exports=h;}),null);
__d('MessengerThreadImage.react',['immutable','ImmutableObject','MercuryIDs','MercuryThreadImage.react','MessengerProfileImageWrapper.react','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.$MessengerThreadImage1=function(){if(!c('MercuryIDs').isCanonical(this.props.thread.thread_id)||this.props.participants.size===0)return null;var q=this.props.thread.other_user_fbid,r=c('MercuryIDs').getParticipantIDFromUserID(q),s=this.props.participants.get(r);return s&&s.is_messenger_user;}.bind(this),m;}k.prototype.render=function(){return c('React').createElement(c('MessengerProfileImageWrapper.react'),{className:this.props.className,isMessengerUser:this.$MessengerThreadImage1(),size:this.props.size,showBadge:this.props.showBadge&&c('MercuryIDs').isCanonical(this.props.thread.thread_id)},c('React').createElement(c('MercuryThreadImage.react'),{size:this.props.size,thread:this.props.thread,viewer:this.props.viewer,useBackground:true}));};k.propTypes={participants:j.instanceOf(c('immutable').Map).isRequired,showBadge:j.bool,size:j.number,thread:j.instanceOf(c('ImmutableObject')).isRequired,viewer:j.string.isRequired};k.defaultProps={showBadge:true};f.exports=k;}),null);
__d("MessengerFriendsWebGraphQLQuery",["WebGraphQLQueryHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLQueryHelper").getExports({docID:"886188561516267",queryID:"886188581516265"});}),null);
__d("TopMessengerFriendsAndGroupsWebGraphQLQuery",["WebGraphQLQueryHelper"],(function a(b,c,d,e,f,g){'use strict';f.exports=c("WebGraphQLQueryHelper").getExports({docID:"903117399823383",queryID:"903117403156716"});}),null);
__d('MessengerTypeaheadLocalCache',['AsyncRequest','MessengerConfig','MessengerFriendsWebGraphQLQuery','MessengerGraphQLTypeaheadAdapter','SearchSourceCallbackManager','TokenizeUtil','TopMessengerFriendsAndGroupsWebGraphQLQuery','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h=new (c('SearchSourceCallbackManager'))({parseFn:c('TokenizeUtil').parse,matchFn:c('TokenizeUtil').isQueryMatch,indexFn:null}),i=null,j=null,k=null,l=null;function m(){if(c('MessengerConfig').BootstrapTypeaheadFromBuddylist||!k)return;var o=k;k=null;new (c('AsyncRequest'))(c('MessengerFriendsWebGraphQLQuery').getLegacyURI({cursor:o})).setAllowCrossPageTransition(true).exec().then(function(p){return p.getPayload();}).done(function(p){h.addLocalEntries(p.viewer.all_friends.edges.map(function(q){return (c('MessengerGraphQLTypeaheadAdapter').convertProfileToEntry(q.node));}).filter(function(q){return q!==null;}));});}var n={onEntriesLoaded:function o(p){var q;if(i!==null&&j!==null){p(i,j,false);return;}if(l===null)(function(){var r=c('MessengerConfig').BootstrapTypeaheadFromBuddylist,s=c('TopMessengerFriendsAndGroupsWebGraphQLQuery').getLegacyURI({use_buddylist:r,first:100});l=new (c('AsyncRequest'))(s).setAllowCrossPageTransition(true).exec().then(function(t){return t.getPayload();}).then(function(t){var u=(r?t.viewer.chat_buddylist:t.viewer.all_friends.edges).map(function(w){return (c('MessengerGraphQLTypeaheadAdapter').convertProfileToEntry(r?w.represented_profile:w.node));}).filter(function(w){return w!==null;}),v=t.viewer.message_threads.edges.map(function(w,x){return (c('MessengerGraphQLTypeaheadAdapter').convertGroupToEntry(w.node,x));}).filter(function(w){return w!==null;});h.addLocalEntries(u);h.addLocalEntries(v);i=u;j=v;if(t.viewer.all_friends&&t.viewer.all_friends.page_info&&t.viewer.all_friends.page_info.has_next_page)k=t.viewer.all_friends.page_info.end_cursor;});})();l.done(function(){p(i,j,true);m();},c('emptyFunction'));},search:function o(p,q){n.onEntriesLoaded(function(){h.search(p,function(r){q(r,p);});});},isBootstrapped:function o(){return i!==null&&j!==null;}};f.exports=n;}),null);
__d('bs_caml_array',[],(function a(b,c,d,e,f,g){'use strict';function h(n,o,p){var q=new Array(p),r=0,s=o;while(r<p){q[r]=n[s];r=r+1|0;s=s+1|0;}return q;}function i(n,o){while(true){var p=o,q=n;if(p){o=p[1];n=p[0].length+q|0;continue;}else return q;}}function j(n,o,p){while(true){var q=p,r=o;if(q){var s=q[0],t=s.length,u=r,v=0;while(v<t){n[u]=s[v];u=u+1|0;v=v+1|0;}p=q[1];o=u;continue;}else return 0;}}function k(n){var o=i(0,n),p=new Array(o);j(p,0,n);return p;}function l(n,o){var p=new Array(n);for(var q=0,r=n-1|0;q<=r;++q)p[q]=o;return p;}function m(n,o,p,q,r){if(q<=o){for(var s=0,t=r-1|0;s<=t;++s)p[s+q|0]=n[s+o|0];return 0;}else{for(var u=r-1|0;u>=0;--u)p[u+q|0]=n[u+o|0];return 0;}}g.caml_array_sub=h;g.caml_array_concat=k;g.caml_make_vect=l;g.caml_array_blit=m;}),null);
__d("bs_caml_builtin_exceptions",[],(function a(b,c,d,e,f,g){'use strict';var h=["Out_of_memory",0],i=["Sys_error",-1],j=["Failure",-2],k=["Invalid_argument",-3],l=["End_of_file",-4],m=["Division_by_zero",-5],n=["Not_found",-6],o=["Match_failure",-7],p=["Stack_overflow",-8],q=["Sys_blocked_io",-9],r=["Assert_failure",-10],s=["Undefined_recursive_module",-11];g.out_of_memory=h;g.sys_error=i;g.failure=j;g.invalid_argument=k;g.end_of_file=l;g.division_by_zero=m;g.not_found=n;g.match_failure=o;g.stack_overflow=p;g.sys_blocked_io=q;g.assert_failure=r;g.undefined_recursive_module=s;}),null);
__d('bs_caml_exceptions',[],(function a(b,c,d,e,f,g){'use strict';var h=[0];function i(l){l[1]=h[0];h[0]+=1;return l;}function j(){h[0]+=1;return h[0];}function k(l){var m=j(0),n=[l,m];n.tag=248;return n;}g.caml_set_oo_id=i;g.get_id=j;g.create=k;}),null);
__d('bs_caml_oo',['bs_caml_builtin_exceptions','bs_caml_array'],(function a(b,c,d,e,f,g){'use strict';var h=c('bs_caml_array').caml_make_vect(1000,0);function i(j,k,l){var m=j[0],n=h[l];if(m[n]===k){return m[n-1|0];}else{var o=function p(q){while(true){var r=q;if(r<3){throw [c('bs_caml_builtin_exceptions').assert_failure,["caml_oo.ml",54,20]];}else if(m[r]===k){h[l]=r;return r;}else{q=r-2|0;continue;}}};return m[o((m[0]<<1)+1|0)-1|0];}}g.caml_get_public_method=i;}),null);
__d('bs_curry',['bs_caml_oo','bs_caml_array'],(function a(b,c,d,e,f,g){'use strict';function h(pa,qa){while(true){var ra=qa,sa=pa,ta=sa.length,ua=ta?ta:1,va=ra.length,wa=ua-va|0;if(wa){if(wa<0){qa=c('bs_caml_array').caml_array_sub(ra,ua,-wa);pa=sa.apply(null,c('bs_caml_array').caml_array_sub(ra,0,ua));continue;}else return function(xa,ya){return function(za){return h(xa,ya.concat([za]));};}(sa,ra);}else return sa.apply(null,ra);}}function i(pa,qa,ra,sa){var ta=c('bs_caml_oo').caml_get_public_method(ra,pa,qa);return h(ta,sa);}function j(pa,qa,ra){if(ra>7||ra<0){return h(pa,[qa]);}else switch(ra){case 0:case 1:return pa(qa);case 2:return function(sa){return pa(qa,sa);};case 3:return function(sa,ta){return pa(qa,sa,ta);};case 4:return function(sa,ta,ua){return pa(qa,sa,ta,ua);};case 5:return function(sa,ta,ua,va){return pa(qa,sa,ta,ua,va);};case 6:return function(sa,ta,ua,va,wa){return pa(qa,sa,ta,ua,va,wa);};case 7:return function(sa,ta,ua,va,wa,xa){return pa(qa,sa,ta,ua,va,wa,xa);};}}function k(pa,qa){var ra=pa.length;if(ra===1){return pa(qa);}else return j(pa,qa,ra);}function l(pa,qa,ra){return k(c('bs_caml_oo').caml_get_public_method(ra,pa,qa),ra);}function m(pa){var qa=pa.length;if(qa===1){return pa;}else return function(ra){return k(pa,ra);};}function n(pa,qa,ra,sa){if(sa>7||sa<0){return h(pa,[qa,ra]);}else switch(sa){case 0:case 1:return h(pa(qa),[ra]);case 2:return pa(qa,ra);case 3:return function(ta){return pa(qa,ra,ta);};case 4:return function(ta,ua){return pa(qa,ra,ta,ua);};case 5:return function(ta,ua,va){return pa(qa,ra,ta,ua,va);};case 6:return function(ta,ua,va,wa){return pa(qa,ra,ta,ua,va,wa);};case 7:return function(ta,ua,va,wa,xa){return pa(qa,ra,ta,ua,va,wa,xa);};}}function o(pa,qa,ra){var sa=pa.length;if(sa===2){return pa(qa,ra);}else return n(pa,qa,ra,sa);}function p(pa,qa,ra,sa){return o(c('bs_caml_oo').caml_get_public_method(ra,pa,qa),ra,sa);}function q(pa){var qa=pa.length;if(qa===2){return pa;}else return function(ra,sa){return o(pa,ra,sa);};}function r(pa,qa,ra,sa,ta){if(ta>7||ta<0){return h(pa,[qa,ra,sa]);}else switch(ta){case 0:case 1:return h(pa(qa),[ra,sa]);case 2:return h(pa(qa,ra),[sa]);case 3:return pa(qa,ra,sa);case 4:return function(ua){return pa(qa,ra,sa,ua);};case 5:return function(ua,va){return pa(qa,ra,sa,ua,va);};case 6:return function(ua,va,wa){return pa(qa,ra,sa,ua,va,wa);};case 7:return function(ua,va,wa,xa){return pa(qa,ra,sa,ua,va,wa,xa);};}}function s(pa,qa,ra,sa){var ta=pa.length;if(ta===3){return pa(qa,ra,sa);}else return r(pa,qa,ra,sa,ta);}function t(pa,qa,ra,sa,ta){return s(c('bs_caml_oo').caml_get_public_method(ra,pa,qa),ra,sa,ta);}function u(pa){var qa=pa.length;if(qa===3){return pa;}else return function(ra,sa,ta){return s(pa,ra,sa,ta);};}function v(pa,qa,ra,sa,ta,ua){if(ua>7||ua<0){return h(pa,[qa,ra,sa,ta]);}else switch(ua){case 0:case 1:return h(pa(qa),[ra,sa,ta]);case 2:return h(pa(qa,ra),[sa,ta]);case 3:return h(pa(qa,ra,sa),[ta]);case 4:return pa(qa,ra,sa,ta);case 5:return function(va){return pa(qa,ra,sa,ta,va);};case 6:return function(va,wa){return pa(qa,ra,sa,ta,va,wa);};case 7:return function(va,wa,xa){return pa(qa,ra,sa,ta,va,wa,xa);};}}function w(pa,qa,ra,sa,ta){var ua=pa.length;if(ua===4){return pa(qa,ra,sa,ta);}else return v(pa,qa,ra,sa,ta,ua);}function x(pa,qa,ra,sa,ta,ua){return w(c('bs_caml_oo').caml_get_public_method(ra,pa,qa),ra,sa,ta,ua);}function y(pa){var qa=pa.length;if(qa===4){return pa;}else return function(ra,sa,ta,ua){return w(pa,ra,sa,ta,ua);};}function z(pa,qa,ra,sa,ta,ua,va){if(va>7||va<0){return h(pa,[qa,ra,sa,ta,ua]);}else switch(va){case 0:case 1:return h(pa(qa),[ra,sa,ta,ua]);case 2:return h(pa(qa,ra),[sa,ta,ua]);case 3:return h(pa(qa,ra,sa),[ta,ua]);case 4:return h(pa(qa,ra,sa,ta),[ua]);case 5:return pa(qa,ra,sa,ta,ua);case 6:return function(wa){return pa(qa,ra,sa,ta,ua,wa);};case 7:return function(wa,xa){return pa(qa,ra,sa,ta,ua,wa,xa);};}}function aa(pa,qa,ra,sa,ta,ua){var va=pa.length;if(va===5){return pa(qa,ra,sa,ta,ua);}else return z(pa,qa,ra,sa,ta,ua,va);}function ba(pa,qa,ra,sa,ta,ua,va){return aa(c('bs_caml_oo').caml_get_public_method(ra,pa,qa),ra,sa,ta,ua,va);}function ca(pa){var qa=pa.length;if(qa===5){return pa;}else return function(ra,sa,ta,ua,va){return aa(pa,ra,sa,ta,ua,va);};}function da(pa,qa,ra,sa,ta,ua,va,wa){if(wa>7||wa<0){return h(pa,[qa,ra,sa,ta,ua,va]);}else switch(wa){case 0:case 1:return h(pa(qa),[ra,sa,ta,ua,va]);case 2:return h(pa(qa,ra),[sa,ta,ua,va]);case 3:return h(pa(qa,ra,sa),[ta,ua,va]);case 4:return h(pa(qa,ra,sa,ta),[ua,va]);case 5:return h(pa(qa,ra,sa,ta,ua),[va]);case 6:return pa(qa,ra,sa,ta,ua,va);case 7:return function(xa){return pa(qa,ra,sa,ta,ua,va,xa);};}}function ea(pa,qa,ra,sa,ta,ua,va){var wa=pa.length;if(wa===6){return pa(qa,ra,sa,ta,ua,va);}else return da(pa,qa,ra,sa,ta,ua,va,wa);}function fa(pa,qa,ra,sa,ta,ua,va,wa){return ea(c('bs_caml_oo').caml_get_public_method(ra,pa,qa),ra,sa,ta,ua,va,wa);}function ga(pa){var qa=pa.length;if(qa===6){return pa;}else return function(ra,sa,ta,ua,va,wa){return ea(pa,ra,sa,ta,ua,va,wa);};}function ha(pa,qa,ra,sa,ta,ua,va,wa,xa){if(xa>7||xa<0){return h(pa,[qa,ra,sa,ta,ua,va,wa]);}else switch(xa){case 0:case 1:return h(pa(qa),[ra,sa,ta,ua,va,wa]);case 2:return h(pa(qa,ra),[sa,ta,ua,va,wa]);case 3:return h(pa(qa,ra,sa),[ta,ua,va,wa]);case 4:return h(pa(qa,ra,sa,ta),[ua,va,wa]);case 5:return h(pa(qa,ra,sa,ta,ua),[va,wa]);case 6:return h(pa(qa,ra,sa,ta,ua,va),[wa]);case 7:return pa(qa,ra,sa,ta,ua,va,wa);}}function ia(pa,qa,ra,sa,ta,ua,va,wa){var xa=pa.length;if(xa===7){return pa(qa,ra,sa,ta,ua,va,wa);}else return ha(pa,qa,ra,sa,ta,ua,va,wa,xa);}function ja(pa,qa,ra,sa,ta,ua,va,wa,xa){return ia(c('bs_caml_oo').caml_get_public_method(ra,pa,qa),ra,sa,ta,ua,va,wa,xa);}function ka(pa){var qa=pa.length;if(qa===7){return pa;}else return function(ra,sa,ta,ua,va,wa,xa){return ia(pa,ra,sa,ta,ua,va,wa,xa);};}function la(pa,qa,ra,sa,ta,ua,va,wa,xa,ya){if(ya>7||ya<0){return h(pa,[qa,ra,sa,ta,ua,va,wa,xa]);}else switch(ya){case 0:case 1:return h(pa(qa),[ra,sa,ta,ua,va,wa,xa]);case 2:return h(pa(qa,ra),[sa,ta,ua,va,wa,xa]);case 3:return h(pa(qa,ra,sa),[ta,ua,va,wa,xa]);case 4:return h(pa(qa,ra,sa,ta),[ua,va,wa,xa]);case 5:return h(pa(qa,ra,sa,ta,ua),[va,wa,xa]);case 6:return h(pa(qa,ra,sa,ta,ua,va),[wa,xa]);case 7:return h(pa(qa,ra,sa,ta,ua,va,wa),[xa]);}}function ma(pa,qa,ra,sa,ta,ua,va,wa,xa){var ya=pa.length;if(ya===8){return pa(qa,ra,sa,ta,ua,va,wa,xa);}else return la(pa,qa,ra,sa,ta,ua,va,wa,xa,ya);}function na(pa,qa,ra,sa,ta,ua,va,wa,xa,ya){return ma(c('bs_caml_oo').caml_get_public_method(ra,pa,qa),ra,sa,ta,ua,va,wa,xa,ya);}function oa(pa){var qa=pa.length;if(qa===8){return pa;}else return function(ra,sa,ta,ua,va,wa,xa,ya){return ma(pa,ra,sa,ta,ua,va,wa,xa,ya);};}g.app=h;g.js=i;g.curry_1=j;g._1=k;g.js1=l;g.__1=m;g.curry_2=n;g._2=o;g.js2=p;g.__2=q;g.curry_3=r;g._3=s;g.js3=t;g.__3=u;g.curry_4=v;g._4=w;g.js4=x;g.__4=y;g.curry_5=z;g._5=aa;g.js5=ba;g.__5=ca;g.curry_6=da;g._6=ea;g.js6=fa;g.__6=ga;g.curry_7=ha;g._7=ia;g.js7=ja;g.__7=ka;g.curry_8=la;g._8=ma;g.js8=na;g.__8=oa;}),null);
__d('bs_array',['bs_caml_builtin_exceptions','bs_caml_exceptions','bs_curry','bs_caml_array'],(function a(b,c,d,e,f,g){'use strict';function h(da,ea){if(da){if(da<0){throw [c('bs_caml_builtin_exceptions').invalid_argument,"Array.init"];}else{var fa=c('bs_caml_array').caml_make_vect(da,c('bs_curry')._1(ea,0));for(var ga=1,ha=da-1|0;ga<=ha;++ga)fa[ga]=c('bs_curry')._1(ea,ga);return fa;}}else return [];}function i(da,ea,fa){var ga=c('bs_caml_array').caml_make_vect(da,[]);for(var ha=0,ia=da-1|0;ha<=ia;++ha)ga[ha]=c('bs_caml_array').caml_make_vect(ea,fa);return ga;}function j(da){var ea=da.length;if(ea){return c('bs_caml_array').caml_array_sub(da,0,ea);}else return [];}function k(da,ea){var fa=da.length;if(fa){if(ea.length){return da.concat(ea);}else return c('bs_caml_array').caml_array_sub(da,0,fa);}else return j(ea);}function l(da,ea,fa){if(fa<0||ea>(da.length-fa|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"Array.sub"];}else return c('bs_caml_array').caml_array_sub(da,ea,fa);}function m(da,ea,fa,ga){if(ea<0||fa<0||ea>(da.length-fa|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"Array.fill"];}else{for(var ha=ea,ia=(ea+fa|0)-1|0;ha<=ia;++ha)da[ha]=ga;return 0;}}function n(da,ea,fa,ga,ha){if(ha<0||ea<0||ea>(da.length-ha|0)||ga<0||ga>(fa.length-ha|0)){throw [c('bs_caml_builtin_exceptions').invalid_argument,"Array.blit"];}else return c('bs_caml_array').caml_array_blit(da,ea,fa,ga,ha);}function o(da,ea){for(var fa=0,ga=ea.length-1|0;fa<=ga;++fa)c('bs_curry')._1(da,ea[fa]);return 0;}function p(da,ea){var fa=ea.length;if(fa){var ga=c('bs_caml_array').caml_make_vect(fa,c('bs_curry')._1(da,ea[0]));for(var ha=1,ia=fa-1|0;ha<=ia;++ha)ga[ha]=c('bs_curry')._1(da,ea[ha]);return ga;}else return [];}function q(da,ea){for(var fa=0,ga=ea.length-1|0;fa<=ga;++fa)c('bs_curry')._2(da,fa,ea[fa]);return 0;}function r(da,ea){var fa=ea.length;if(fa){var ga=c('bs_caml_array').caml_make_vect(fa,c('bs_curry')._2(da,0,ea[0]));for(var ha=1,ia=fa-1|0;ha<=ia;++ha)ga[ha]=c('bs_curry')._2(da,ha,ea[ha]);return ga;}else return [];}function s(da){var ea=da.length-1|0,fa=0;while(true){var ga=fa,ha=ea;if(ha<0){return ga;}else{fa=[da[ha],ga];ea=ha-1|0;continue;}}}function t(da,ea){while(true){var fa=ea,ga=da;if(fa){ea=fa[1];da=ga+1|0;continue;}else return ga;}}function u(da){if(da){var ea=c('bs_caml_array').caml_make_vect(t(0,da),da[0]),fa=1,ga=da[1];while(true){var ha=ga,ia=fa;if(ha){ea[ia]=ha[0];ga=ha[1];fa=ia+1|0;continue;}else return ea;}}else return [];}function v(da,ea,fa){var ga=ea;for(var ha=0,ia=fa.length-1|0;ha<=ia;++ha)ga=c('bs_curry')._2(da,ga,fa[ha]);return ga;}function w(da,ea,fa){var ga=fa;for(var ha=ea.length-1|0;ha>=0;--ha)ga=c('bs_curry')._2(da,ea[ha],ga);return ga;}var x=c('bs_caml_exceptions').create("Array.Bottom");function y(da,ea){var fa=function oa(pa,qa){var ra=((qa+qa|0)+qa|0)+1|0,sa=ra;if((ra+2|0)<pa){if(c('bs_curry')._2(da,ea[ra],ea[ra+1|0])<0)sa=ra+1|0;if(c('bs_curry')._2(da,ea[sa],ea[ra+2|0])<0)sa=ra+2|0;return sa;}else if((ra+1|0)<pa&&c('bs_curry')._2(da,ea[ra],ea[ra+1|0])<0){return ra+1|0;}else if(ra<pa){return ra;}else throw [x,qa];},ga=function oa(pa,qa,ra){try{var ta=pa,ua=qa,va=ra;while(true){var wa=ua,xa=fa(ta,wa);if(c('bs_curry')._2(da,ea[xa],va)>0){ea[wa]=ea[xa];ua=xa;continue;}else{ea[wa]=va;return 0;}}}catch(sa){if(sa[0]===x){ea[sa[1]]=ra;return 0;}else throw sa;}},ha=function oa(pa,qa){try{var sa=pa,ta=qa;while(true){var ua=ta,va=fa(sa,ua);ea[ua]=ea[va];ta=va;continue;}}catch(ra){if(ra[0]===x){return ra[1];}else throw ra;}},ia=function oa(pa,qa){while(true){var ra=pa,sa=(ra-1|0)/3|0;if(ra===sa)throw [c('bs_caml_builtin_exceptions').assert_failure,["array.ml",168,4]];if(c('bs_curry')._2(da,ea[sa],qa)<0){ea[ra]=ea[sa];if(sa>0){pa=sa;continue;}else{ea[0]=qa;return 0;}}else{ea[ra]=qa;return 0;}}},ja=ea.length;for(var ka=((ja+1|0)/3|0)-1|0;ka>=0;--ka)ga(ja,ka,ea[ka]);for(var la=ja-1|0;la>=2;--la){var ma=ea[la];ea[la]=ea[0];ia(ha(la,0),ma);}if(ja>1){var na=ea[1];ea[1]=ea[0];ea[0]=na;return 0;}else return 0;}function z(da,ea){var fa=function ma(na,oa,pa,qa,ra,sa,ta){var ua=na+oa|0,va=qa+ra|0,wa=na,xa=ea[na],ya=qa,za=pa[qa],ab=ta;while(true){var bb=ab,cb=za,db=ya,eb=xa,fb=wa;if(c('bs_curry')._2(da,eb,cb)<=0){sa[bb]=eb;var gb=fb+1|0;if(gb<ua){ab=bb+1|0;xa=ea[gb];wa=gb;continue;}else return n(pa,db,sa,bb+1|0,va-db|0);}else{sa[bb]=cb;var hb=db+1|0;if(hb<va){ab=bb+1|0;za=pa[hb];ya=hb;continue;}else return n(ea,fb,sa,bb+1|0,ua-fb|0);}}},ga=function ma(na,oa,pa,qa){for(var ra=0,sa=qa-1|0;ra<=sa;++ra){var ta=ea[na+ra|0],ua=(pa+ra|0)-1|0;while(ua>=pa&&c('bs_curry')._2(da,oa[ua],ta)>0){oa[ua+1|0]=oa[ua];ua=ua-1|0;}oa[ua+1|0]=ta;}return 0;},ha=function ma(na,oa,pa,qa){if(qa<=5){return ga(na,oa,pa,qa);}else{var ra=qa/2|0,sa=qa-ra|0;ma(na+ra|0,oa,pa+ra|0,sa);ma(na,ea,na+sa|0,ra);return fa(na+sa|0,ra,oa,pa+ra|0,sa,oa,pa);}},ia=ea.length;if(ia<=5){return ga(0,ea,0,ia);}else{var ja=ia/2|0,ka=ia-ja|0,la=c('bs_caml_array').caml_make_vect(ka,ea[0]);ha(ja,la,0,ka);ha(0,ea,ka,ja);return fa(ka,ja,la,0,ka,ea,0);}}var aa=i,ba=c('bs_caml_array').caml_array_concat,ca=z;g.init=h;g.make_matrix=i;g.create_matrix=aa;g.append=k;g.concat=ba;g.sub=l;g.copy=j;g.fill=m;g.blit=n;g.to_list=s;g.of_list=u;g.iter=o;g.map=p;g.iteri=q;g.mapi=r;g.fold_left=v;g.fold_right=w;g.sort=y;g.stable_sort=z;g.fast_sort=ca;}),null);
__d('bs_js_primitive',[],(function a(b,c,d,e,f,g){'use strict';function h(k){if(k===null){return 1;}else return +(k===undefined);}function i(k){if(k===null||k===undefined){return 0;}else return [k];}function j(k){if(k){return k[0];}else return undefined;}g.js_is_nil_undef=h;g.js_from_nullable_def=i;g.option_get=j;}),null);
__d("messengerContactActionsRe",[],(function a(b,c,d,e,f,g){'use strict';var h={ADD_OWNER:"ADD_OWNER",MESSAGE:"MESSAGE",PROFILE:"PROFILE",REMOVE:"REMOVE",REMOVE_OWNER:"REMOVE_OWNER",SELECT:"SELECT"};g.actions=h;}),null);
__d('bs_js_boolean',[],(function a(b,c,d,e,f,g){'use strict';function h(i){if(i){return true;}else return false;}g.to_js_boolean=h;}),null);
__d('MercuryThreadTimestamp.react',['React','formatDate','joinClasses'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;k.prototype.render=function(){var l=this.props.time;if(!l)return c('React').createElement('abbr',null);return (c('React').createElement('abbr',{className:c('joinClasses')(this.props.className,'timestamp'),title:this.props.title||new Date(l).toLocaleDateString(),'data-utime':l/1000},this.props.text||c('formatDate')(new Date(l),'g:ia')));};function k(){h.apply(this,arguments);}k.propTypes={time:j.number,title:j.string,text:j.string};f.exports=k;}),null);
__d('bs_caml_int32',['bs_caml_builtin_exceptions'],(function a(b,c,d,e,f,g){'use strict';function h(n,o){if(o===0){throw c('bs_caml_builtin_exceptions').division_by_zero;}else return n/o|0;}function i(n,o){if(o===0){throw c('bs_caml_builtin_exceptions').division_by_zero;}else return n%o;}function j(n){return (n&255)<<8|(n&65280)>>>8;}function k(n){return (n&255)<<24|(n&65280)<<8|(n&16711680)>>>8|(n&4278190080)>>>24;}var l=Math.imul||function(n,o){o|=0;return ((n>>16)*o<<16)+(n&65535)*o|0;},m=k;g.div=h;g.mod_=i;g.caml_bswap16=j;g.caml_int32_bswap=k;g.caml_nativeint_bswap=m;g.imul=l;}),null);
__d('reactRe',['bs_array','bs_caml_builtin_exceptions','bs_curry','bs_js_primitive','React'],(function a(b,c,d,e,f,g){'use strict';var h=[];function i(aa,ba,ca,da,ea,fa){var ga=da?da[0]:undefined,ha=ea?ea[0]:undefined,ia={reasonProps:ba,ref:ga,key:ha};if(ca){var ja=ca[1],ka=ca[0];if(ja){var la=ja[1],ma=ja[0];if(la){var na=la[1],oa=la[0];if(na){var pa=na[1],qa=na[0];if(pa){var ra=pa[1],sa=pa[0];if(ra){var ta=ra[1],ua=ra[0];if(ta){var va=ta[1],wa=ta[0];if(va){var xa=va[1],ya=va[0];if(xa){var za=xa[1],ab=xa[0];if(za){var bb=za[1],cb=za[0];if(bb){var db=bb[1],eb=bb[0];if(db){var fb=db[1],gb=db[0];if(fb){var hb=fb[1],ib=fb[0];if(hb){if(hb[1]){throw [c('bs_caml_builtin_exceptions').invalid_argument,"Reason allows up to 14 static children (dynamic children can be unlimited in size); If you have more, please put them in an array and assign key to the elements. Sorry for the inconvenience!"];}else return c('React').createElement(aa,ia,ka,ma,oa,qa,sa,ua,wa,ya,ab,cb,eb,gb,ib,hb[0]);}else return c('React').createElement(aa,ia,ka,ma,oa,qa,sa,ua,wa,ya,ab,cb,eb,gb,ib);}else return c('React').createElement(aa,ia,ka,ma,oa,qa,sa,ua,wa,ya,ab,cb,eb,gb);}else return c('React').createElement(aa,ia,ka,ma,oa,qa,sa,ua,wa,ya,ab,cb,eb);}else return c('React').createElement(aa,ia,ka,ma,oa,qa,sa,ua,wa,ya,ab,cb);}else return c('React').createElement(aa,ia,ka,ma,oa,qa,sa,ua,wa,ya,ab);}else return c('React').createElement(aa,ia,ka,ma,oa,qa,sa,ua,wa,ya);}else return c('React').createElement(aa,ia,ka,ma,oa,qa,sa,ua,wa);}else return c('React').createElement(aa,ia,ka,ma,oa,qa,sa,ua);}else return c('React').createElement(aa,ia,ka,ma,oa,qa,sa);}else return c('React').createElement(aa,ia,ka,ma,oa,qa);}else return c('React').createElement(aa,ia,ka,ma,oa);}else return c('React').createElement(aa,ia,ka,ma);}else return c('React').createElement(aa,ia,ka);}else return c('React').createElement(aa,ia);}var j=function aa(ba){return Object.prototype.toString.call(ba)==='[object Array]';};function k(aa){if(c('bs_js_primitive').js_is_nil_undef(aa)){return 0;}else if(j(aa)){return c('bs_array').to_list(aa);}else return [aa,0];}function l(aa,ba){while(true){var ca=aa;if(ca){var da=ca[0];if(da[0]===ba){return [da[1]];}else{aa=ca[1];continue;}}else return 0;}}function m(){return 0;}function n(){return 0;}function o(aa,ba){return 0;}function p(aa,ba){return 0;}function q(){return 0;}function r(aa,ba,ca,da,ea,fa,ga,ha){var ia=function ka(la){var ma=la.reasonProps;if(ma!==undefined){return ma;}else if(ga){return c('bs_curry')._1(ga[0],la);}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"A JS component called the Reason component "+(aa+" which didn't implement the JS->Reason React props conversion")];},ja=c('React').createClass({displayName:aa,instanceVariables:0,memoizedUpdaterCallbacks:0,memoizedRefCallbacks:0,componentWillMount:function ka(){var la=this;return la.instanceVariables=[c('bs_curry')._1(ba,0)];},componentDidMount:function ka(){var la=this,ma=this,na=la.instanceVariables,oa;if(na){oa=na[0];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"ReactRe stateless component: instanceVariables somehow isn't initialized."];return c('bs_curry')._1(ca,[ia(ma.props),la.updaterMethod,la.refSetterMethod,oa]);},componentDidUpdate:function ka(la,ma){var na=this,oa=this,pa=na.instanceVariables,qa;if(pa){qa=pa[0];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"ReactRe stateless component: instanceVariables somehow isn't initialized."];return c('bs_curry')._2(ea,ia(la),[ia(oa.props),na.updaterMethod,na.refSetterMethod,qa]);},componentWillReceiveProps:function ka(la){var ma=this,na=this,oa=ma.instanceVariables,pa;if(oa){pa=oa[0];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"ReactRe stateless component: instanceVariables somehow isn't initialized."];return c('bs_curry')._2(da,ia(la),[ia(na.props),ma.updaterMethod,ma.refSetterMethod,pa]);},componentWillUnmount:function ka(){var la=this,ma=this,na=la.instanceVariables,oa;if(na){oa=na[0];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"ReactRe stateless component: instanceVariables somehow isn't initialized."];return c('bs_curry')._1(fa,[ia(ma.props),la.updaterMethod,la.refSetterMethod,oa]);},updaterMethod:function ka(la){var ma=this,na=l(ma.memoizedUpdaterCallbacks,la);if(na){return na[0];}else{var oa=this,pa=function qa(ra){var sa=ma.instanceVariables,ta;if(sa){ta=sa[0];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"ReactRe stateless component: instanceVariables somehow isn't initialized."];return c('bs_curry')._2(la,ra,[ia(oa.props),ma.updaterMethod,ma.refSetterMethod,ta]);};ma.memoizedUpdaterCallbacks=[[la,pa],ma.memoizedUpdaterCallbacks];return pa;}},refSetterMethod:function ka(la){var ma=this,na=l(ma.memoizedRefCallbacks,la);if(na){return na[0];}else{var oa=this,pa=function qa(ra){var sa=ma.instanceVariables,ta;if(sa){ta=sa[0];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"ReactRe stateless component: instanceVariables somehow isn't initialized."];return c('bs_curry')._2(la,ra,[ia(oa.props),ma.updaterMethod,ma.refSetterMethod,ta]);};ma.memoizedRefCallbacks=[[la,pa],ma.memoizedRefCallbacks];return pa;}},render:function ka(){var la=this,ma=this,na=la.instanceVariables,oa;if(na){oa=na[0];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"ReactRe stateless component: instanceVariables somehow isn't initialized."];return c('bs_curry')._1(ha,[ia(ma.props),la.updaterMethod,la.refSetterMethod,oa]);}});return [ja,function(ka,la,ma,na,oa){return i(ja,ka,la,ma,na,oa);}];}var s=[m,n,o,p,q,r];function t(){return 0;}function u(){return 0;}function v(aa,ba,ca){return 0;}function w(aa,ba){return 0;}function x(){return 0;}function y(aa,ba,ca,da,ea,fa,ga,ha,ia){var ja=function la(ma){var na=ma.reasonProps;if(na!==undefined){return na;}else if(ha){return c('bs_curry')._1(ha[0],ma);}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"A JS component called the Reason component "+(aa+" which didn't implement the JS->Reason React props conversion")];},ka=c('React').createClass({displayName:aa,instanceVariables:0,memoizedUpdaterCallbacks:0,memoizedRefCallbacks:0,getInitialState:function la(){var ma=this,na=this,oa=ja(na.props),pa=c('bs_curry')._1(ca,oa);ma.instanceVariables=[c('bs_curry')._1(ba,0)];return {mlState:pa};},componentDidMount:function la(){var ma=this,na=this,oa=ma.instanceVariables,pa;if(oa){pa=oa[0];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"ReactRe stateful component: instanceVariables somehow isn't initialized."];var qa=na.state.mlState,ra=c('bs_curry')._1(da,[qa,ja(na.props),ma.updaterMethod,ma.refSetterMethod,pa]);if(ra){return na.setState({mlState:ra[0]});}else return 0;},componentDidUpdate:function la(ma,na){var oa=this,pa=this,qa=oa.instanceVariables,ra;if(qa){ra=qa[0];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"ReactRe stateful component: instanceVariables somehow isn't initialized."];var sa=pa.state.mlState,ta=c('bs_curry')._3(fa,ja(ma),na.mlState,[sa,ja(pa.props),oa.updaterMethod,oa.refSetterMethod,ra]);if(ta){return pa.setState({mlState:ta[0]});}else return 0;},componentWillReceiveProps:function la(ma){var na=this,oa=this,pa=na.instanceVariables,qa;if(pa){qa=pa[0];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"ReactRe stateful component: instanceVariables somehow isn't initialized."];var ra=oa.state.mlState,sa=c('bs_curry')._2(ea,ja(ma),[ra,ja(oa.props),na.updaterMethod,na.refSetterMethod,qa]);if(sa){return oa.setState({mlState:sa[0]});}else return 0;},componentWillUnmount:function la(){var ma=this,na=this,oa=ma.instanceVariables,pa;if(oa){pa=oa[0];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"ReactRe stateful component: instanceVariables somehow isn't initialized."];var qa=na.state.mlState;return c('bs_curry')._1(ga,[qa,ja(na.props),ma.updaterMethod,ma.refSetterMethod,pa]);},refSetterMethod:function la(ma){var na=this,oa=l(na.memoizedRefCallbacks,ma);if(oa){return oa[0];}else{var pa=this,qa=function ra(sa){var ta=na.instanceVariables,ua;if(ta){ua=ta[0];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"ReactRe stateless component: instanceVariables somehow isn't initialized."];var va=pa.state.mlState;return c('bs_curry')._2(ma,sa,[va,ja(pa.props),na.updaterMethod,na.refSetterMethod,ua]);};na.memoizedRefCallbacks=[[ma,qa],na.memoizedRefCallbacks];return qa;}},updaterMethod:function la(ma){var na=this,oa=l(na.memoizedUpdaterCallbacks,ma);if(oa){return oa[0];}else{var pa=this,qa=function ra(sa){var ta=na.instanceVariables,ua;if(ta){ua=ta[0];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"ReactRe stateful component: instanceVariables somehow isn't initialized."];var va=pa.state.mlState,wa=c('bs_curry')._2(ma,sa,[va,ja(pa.props),na.updaterMethod,na.refSetterMethod,ua]);if(wa){return pa.setState({mlState:wa[0]});}else return 0;};na.memoizedUpdaterCallbacks=[[ma,qa],na.memoizedUpdaterCallbacks];return qa;}},render:function la(){var ma=this,na=this,oa=ma.instanceVariables,pa;if(oa){pa=oa[0];}else throw [c('bs_caml_builtin_exceptions').invalid_argument,"ReactRe stateful component: instanceVariables somehow isn't initialized."];return c('bs_curry')._1(ia,[na.state.mlState,ja(na.props),ma.updaterMethod,ma.refSetterMethod,pa]);}});return [ka,function(la,ma,na,oa,pa){return i(ka,la,ma,na,oa,pa);}];}var z=[t,u,v,w,x,y];g.PropTypes=h;g.wrapPropsInternal=i;g.isArrayPolyfill=j;g.jsToReasonChildren=k;g.findFirstCallback=l;g.StatelessComponent=s;g.Component=z;}),null);
__d('messengerLocalTimeReact',['cx','fbt','bs_caml_int32','bs_curry','bs_js_boolean','MercuryThreadTimestamp.react','React','reactRe','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('reactRe').StatelessComponent[0],k=c('reactRe').StatelessComponent[1],l=c('reactRe').StatelessComponent[2],m=c('reactRe').StatelessComponent[3],n=c('reactRe').StatelessComponent[4],o=c('reactRe').StatelessComponent[5];function p(w){var x=w[0],y=x[1];if(y){var z=y[0]-c('bs_caml_int32').imul(new Date().getTimezoneOffset(),-60)|0;if(z){var aa=new Date(Date.now()+c('bs_caml_int32').imul(z,1000)|0),ba=aa.getHours(),ca=+(ba<6||ba>22),da=c('joinClasses')("_10rk",x[0]);return c('React').createElement("span",{className:da},c('React').createElement("span",{className:c('bs_js_boolean').to_js_boolean(ca)?"_2f3x":''},"(",c('React').createElement(c('MercuryThreadTimestamp.react'),{time:aa.getTime()})," ",i._("local time"),")"));}else return null;}else return null;}var q=c('bs_curry')._8(o,"MessengerLocalTimeReact",j,k,m,l,n,0,p),r=q[1];function s(w,x){return c('bs_curry')._1(r,[w,x]);}var t=22,u=6,v=q[0];g.getInstanceVariables=j;g.componentDidMount=k;g.componentDidUpdate=l;g.componentWillReceiveProps=m;g.componentWillUnmount=n;g.createClass=o;g.nightStartHour=t;g.nightEndHour=u;g.render=p;g.comp=v;g.wrapProps=r;g.createElement=s;}),null);
__d('utilsRe',['bs_js_boolean','bs_js_primitive'],(function a(b,c,d,e,f,g){'use strict';function h(p){if(c('bs_js_primitive').js_is_nil_undef(p)){return 0;}else return +p;}function i(p,q){if(p){return p[0];}else return q;}function j(p){if(p){return p[0];}else return 0;}function k(p){if(p){return p[0];}else return null;}function l(p){if(p){return p[0];}else return undefined;}function m(p){if(c('bs_js_primitive').js_is_nil_undef(p)){return 0;}else return [+p];}function n(p){if(p){return c('bs_js_boolean').to_js_boolean(p[0]);}else return undefined;}function o(p){if(p){return c('bs_js_boolean').to_js_boolean(p[0]);}else return false;}g.isTruthy=h;g.$pipe$unknown=i;g.isSomeTrue=j;g.optionToJsNull=k;g.optionToJsNullUndefined=l;g.nullUndefinedBooleanToOptionBool=m;g.optionBoolToNullUndefinedBoolean=n;g.optionBoolToBoolean=o;}),null);
__d('messengerContactListRowReact',['cx','fbt','ix','bs_array','Badge.react','bs_curry','Image.react','ImageBlock.react','bs_js_boolean','bs_js_primitive','Link.react','MercuryConfig','MercuryTypeaheadConstants','MessengerAdminGroupUtils','messengerContactActionsRe','MessengerContactImage.react','messengerLocalTimeReact','MessengerTextWithEntities.react','MessengerThreadImage.react','React','ReactDOM','reactRe','TextWithEntities.react','utilsRe','joinClasses'],(function a(b,c,d,e,f,g,h,i,j){'use strict';var k=c('reactRe').Component[3],l=c('reactRe').Component[4],m=c('reactRe').Component[5],n=j("/images/mercury/clients/messenger/core/Checkmark.png");function o(){return [0];}function p(ia,ja){ja[4][0]=[ia];return 0;}function q(){return [0];}function r(ia){var ja=ia[1],ka=c('utilsRe').isSomeTrue(ja[6]),la=ja[12],ma=ia[4][0];if(ka!==0){if(la){if(ma){var na=c('ReactDOM').findDOMNode(ma[0]);c('bs_curry')._1(la[0],na);var oa=ja[13];if(oa){c('bs_curry')._1(oa[0],na);return 0;}else return 0;}else return 0;}else return 0;}else return 0;}function s(ia,ja,ka){var la=ka[1],ma=c('utilsRe').isSomeTrue(la[6]),na=ia[12],oa=ka[4][0];if(ma!==0){if(na){if(oa){var pa=c('ReactDOM').findDOMNode(oa[0]);c('bs_curry')._1(na[0],pa);var qa=la[13];if(qa){c('bs_curry')._1(qa[0],pa);return 0;}else return 0;}else return 0;}else return 0;}else return 0;}function t(ia,ja){var ka=ja[1][0];if(ka){return 0;}else{ia.stopPropagation();ia.preventDefault();return 0;}}function u(ia,ja,ka){var la=ka[1][10];if(la){c('bs_curry')._1(la[0],[ia,ja]);return 0;}else return 0;}function v(ia,ja){ia.stopPropagation();return u(c('messengerContactActionsRe').actions.SELECT,ia,ja);}function w(ia,ja){return [[ia]];}function x(ia){var ja=ia[3].photo,ka=0;if(c('bs_js_primitive').js_is_nil_undef(ja)){ka=1;}else if(ja===""){ka=1;}else return c('React').createElement(c('MessengerContactImage.react'),{className:"_5l39 _5rmm",isMessengerUser:ia[3].isMessengerUser,size:32,src:ja});if(ka===1)if(ia[3].type===c('MercuryTypeaheadConstants').THREAD_TYPE){var la=ia[15],ma=la?la[0]:ia[3].thread;return c('React').createElement(c('MessengerThreadImage.react'),{className:"_5l39",participants:ia[3].participants,size:32,thread:ma,viewer:ia[16]});}else return c('React').createElement("div",{className:"_5l39"});}function y(ia){var ja=ia[3].subtitle,ka=0;if(c('bs_js_primitive').js_is_nil_undef(ja)){ka=1;}else if(ja===""){ka=1;}else{var la=+c('MercuryConfig').messengerNewEmojiGK,ma=la!==0?c('MessengerTextWithEntities.react'):c('TextWithEntities.react');return c('React').createElement("div",null,c('React').createElement("div",{className:"_3q34"},c('React').createElement(ma,{renderEmoji:true,renderEmoticons:true,text:ia[3].title})),c('React').createElement("div",{className:"_3q35"},ja));}if(ka===1){var na=c('utilsRe').isTruthy(ia[3].isWorkUser);return c('React').createElement("div",{className:"_364g"},ia[3].title,c('bs_curry')._4(c('messengerLocalTimeReact').createElement("_5ywd",c('bs_js_primitive').js_from_nullable_def(ia[3].timezone)),0,0,0,0),na!==0?c('React').createElement(c('Badge.react'),{size:"small",type:"work"}):null);}}function z(ia){var ja=ia[2],ka=ia[1];if(c('utilsRe').isSomeTrue(ka[8])){return c('React').createElement("span",{className:"_5rh4"},i._("Added"));}else if(c('utilsRe').isSomeTrue(ka[7])){return c('React').createElement("span",{className:"_5rh4"},i._("Invited"));}else if(c('utilsRe').isSomeTrue(ka[9])){return c('React').createElement(c('Image.react'),{className:"_1kqm",src:n});}else if(c('utilsRe').isSomeTrue(ka[14])){return c('React').createElement("div",{className:"_jg2"});}else{var la=ka[1],ma=la?c('bs_array').map(function(ta){if(ta){return ta[0];}else return undefined;},la[0]):undefined,na=c('MessengerAdminGroupUtils').isAdmin(ma,ka[3].uid),oa=ka[15],pa=+c('MessengerAdminGroupUtils').isOwner(na,ka[15]),qa=oa&&pa!==0?c('React').createElement("span",{className:"_5qsj"},i._("Admin")):null,ra=function ta(ua,va){return c('bs_curry')._2(ja,function(wa,xa){return u(ua,wa,xa);},va);},sa=ka[0];if(sa){return c('React').createElement("div",null,qa,c('React').createElement(sa[0],{className:"_rwo",adminIds:ma,contact:ka[3],extrasEnabled:c('bs_js_boolean').to_js_boolean(ka[5]),isOpen:c('bs_js_boolean').to_js_boolean(ia[0][0]),onAction:ra,onToggle:c('bs_curry')._1(ja,w),viewer:ka[16]}));}else return qa;}}function aa(ia){var ja=ia[3],ka=ia[2],la=ia[1],ma=c('joinClasses')(c('utilsRe').$pipe$unknown(la[2],""),"_5l37"+(c('utilsRe').optionBoolToBoolean(la[6])?' '+"_1k1p":'')+(c('bs_js_boolean').to_js_boolean(ia[0][0])?' '+"_rwn":'')),na=la[0],oa=na?-1:0,pa=c('React').createElement(c('Link.react'),{className:"_5f0v",onClick:c('bs_curry')._1(ka,v),onMouseDown:c('bs_curry')._1(ka,t),onMouseEnter:c('utilsRe').optionToJsNullUndefined(la[11]),tabIndex:oa},c('React').createElement(c('ImageBlock.react'),{contentClassName:"_5l38",spacing:"medium"},x(la),y(la),z(ia))),qa=c('utilsRe').isSomeTrue(la[4]);if(qa!==0){return c('React').createElement("li",{className:ma,ref:c('bs_curry')._1(ja,p)},pa);}else return c('React').createElement("li",{className:ma,"aria-selected":c('utilsRe').optionBoolToNullUndefinedBoolean(la[6]),role:"option",ref:c('bs_curry')._1(ja,p)},pa);}var ba=c('bs_curry').app(m,["MessengerContactListRowReact",o,q,r,k,s,l,0,aa]),ca=ba[1];function da(ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya){return c('bs_curry')._1(ca,[ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya]);}var ea=c('messengerContactActionsRe').actions,fa=32,ga=c('utilsRe').$pipe$unknown,ha=ba[0];g.componentWillReceiveProps=k;g.componentWillUnmount=l;g.createClass=m;g.messengerContactActions=ea;g.checkSrc=n;g.imageSize=fa;g.$pipe$unknown=ga;g.getInstanceVariables=o;g.setThisRef=p;g.getInitialState=q;g.componentDidMount=r;g.componentDidUpdate=s;g.handleMouseDown=t;g.handleContactAction=u;g.handleClick=v;g.handleActionsToggle=w;g.renderContactImage=x;g.renderContactText=y;g.renderActions=z;g.render=aa;g.comp=ha;g.wrapProps=ca;g.createElement=da;}),null);
__d('messengerContactListRowContainerReact',['bs_array','AvailableListConstants','bs_curry','bs_js_primitive','MercuryIDs','MercuryParticipantTypes','messengerContactActionsRe','messengerContactListRowReact','PresenceStatus','reactRe','utilsRe'],(function a(b,c,d,e,f,g){'use strict';var h=c('reactRe').Component[0],i=c('reactRe').Component[1],j=c('reactRe').Component[2],k=c('reactRe').Component[4],l=c('reactRe').Component[5];function m(y){return [c('bs_curry')._1(y[2],y[14])];}function n(y,z){if(y){return [+y[0].contains(z)];}else return 0;}function o(y,z){var aa=+(y[14]!==z[1][14]);if(aa!==0){return [[c('bs_curry')._1(y[2],y[14])]];}else return 0;}function p(y,z){var aa=z[1],ba=y[0];if(ba===c('messengerContactActionsRe').actions.SELECT){aa[12](aa[14],y[1]);return 0;}else{var ca=aa[8];if(ca){c('bs_curry')._2(ca[0],ba,aa[14]);return 0;}else return 0;}}function q(y,z){var aa=z[1],ba=c('utilsRe').isSomeTrue(aa[5]),ca=aa[9];if(ba!==0&&ca){c('bs_curry')._1(ca[0],aa[14]);return 0;}else return 0;}function r(y,z){if(!c('utilsRe').isSomeTrue(y[17])||z[0].type!==c('MercuryParticipantTypes').FRIEND&&z[0].type!==c('MercuryParticipantTypes').USER){return 0;}else{var aa=c('MercuryIDs').getUserIDFromParticipantID(z[0].uid);return +(c('PresenceStatus').get(aa)===c('AvailableListConstants').ACTIVE);}}function s(y){var z=y[2],aa=y[1],ba=y[0],ca=aa[18],da;if(ca){da=aa[18];}else{var ea=ba[0].thread;da=c('bs_js_primitive').js_is_nil_undef(ea)?0:c('bs_js_primitive').js_from_nullable_def(ba[0].thread);}return c('bs_curry')._4(c('messengerContactListRowReact').createElement(aa[0],aa[1],aa[15],ba[0],aa[3],aa[4],aa[7],n(aa[6],ba[0].uid),n(aa[13],ba[0].uid),n(aa[16],ba[0].uid),[c('bs_curry')._1(z,p)],[c('bs_curry')._1(z,q)],aa[11],aa[10],[r(aa,ba)],da,aa[19]),0,0,0,0);}function t(y){var z=y.adminIds;return [c('bs_js_primitive').js_from_nullable_def(y.actionsClass),c('bs_js_primitive').js_is_nil_undef(z)?0:[c('bs_array').map(c('bs_js_primitive').js_from_nullable_def,z)],y.contactAdapter,c('utilsRe').nullUndefinedBooleanToOptionBool(y.disableRole),+y.extraActionsEnabled,c('utilsRe').nullUndefinedBooleanToOptionBool(y.hasHoverState),c('bs_js_primitive').js_from_nullable_def(y.invitedEntryIDs),c('utilsRe').nullUndefinedBooleanToOptionBool(y.isHighlighted),c('bs_js_primitive').js_from_nullable_def(y.onAction),c('bs_js_primitive').js_from_nullable_def(y.onHighlight),c('bs_js_primitive').js_from_nullable_def(y.onRenderHighlight),c('bs_js_primitive').js_from_nullable_def(y.onScrollIntoView),y.onSelect,c('bs_js_primitive').js_from_nullable_def(y.originalEntryIDs),y.rawContact,c('bs_js_primitive').js_from_nullable_def(y.rowClassName),c('bs_js_primitive').js_from_nullable_def(y.selectedEntryIDs),c('utilsRe').nullUndefinedBooleanToOptionBool(y.showPresence),c('bs_js_primitive').js_from_nullable_def(y.thread),y.viewer];}var u=c('bs_curry').app(l,["MessengerContactListRowContainerReact",h,m,i,o,j,k,[t],s]),v=u[1];function w(y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra){return c('bs_curry')._1(v,[y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra]);}var x=u[0];g.getInstanceVariables=h;g.componentDidMount=i;g.componentDidUpdate=j;g.componentWillUnmount=k;g.createClass=l;g.getInitialState=m;g.idsContain=n;g.componentWillReceiveProps=o;g.handleAction=p;g.handleMouseEnter=q;g.getPresenceStatus=r;g.render=s;g.jsPropsToReasonProps=t;g.comp=x;g.wrapProps=v;g.createElement=w;}),null);
__d('MessengerContactList.react',['cx','fbt','messengerContactListRowContainerReact','ImageBlock.react','immutable','ImmutableObject','MessengerSpinner.react','React','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('messengerContactListRowContainerReact').comp,m=c('React').PropTypes;j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$MessengerContactList1=function(t,u){return (c('React').createElement('div',{key:u,className:"_29hk"},this.$MessengerContactList4(u),c('React').createElement('ul',{id:this.props.ariaOwneeID,role:this.props.disableRole?undefined:'listbox',className:"_29hl"},t.map(function(v,w){var x=w===0?c('joinClasses')(this.props.rowClassName,"_3h3c"):this.props.rowClassName;return (c('React').createElement(l,{actionsClass:this.props.actionsClass,adminIds:this.props.adminIds,contactAdapter:this.props.contactAdapter,disableRole:this.props.disableRole,extraActionsEnabled:!!this.props.extraActionsEnabled,hasHoverState:this.props.hasHoverState,invitedEntryIDs:this.props.invitedEntryIDs,isHighlighted:this.props.highlightedEntry&&this.props.highlightedEntry.getUniqueID()===v.getUniqueID(),key:v.id||v.getUniqueID(),onAction:this.props.onAction,onHighlight:this.props.onHighlight,onRenderHighlight:this.props.onRenderHighlight,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,rawContact:v,rowClassName:x,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:this.props.showPresence,thread:this.props.thread,viewer:this.props.viewer}));}.bind(this)))));}.bind(this),p;}n.prototype.render=function(){return c('React').createElement('div',{className:this.props.className},this.props.listSections.map(this.$MessengerContactList1).toArray(),this.$MessengerContactList2(),this.$MessengerContactList3());};n.prototype.$MessengerContactList4=function(o){if(!o)return null;return (c('React').createElement('div',{className:"_225b"},o));};n.prototype.$MessengerContactList2=function(){if(!this.props.isLoading)return null;return (c('React').createElement(c('ImageBlock.react'),{className:"_225c",spacing:'medium'},c('React').createElement(c('MessengerSpinner.react'),{className:"_2i59",color:'grey'}),c('React').createElement('div',{className:"_4g0h"},i._("Searching..."))));};n.prototype.$MessengerContactList3=function(){if(this.props.isLoading||this.props.listSections.size>0||!this.props.queryString||this.props.queryString.length===0)return null;return (c('React').createElement('div',{className:"_3xcx"},i._("No results found")));};n.propTypes={actionsClass:m.func,adminIds:m.arrayOf(m.string),ariaOwneeID:m.string,contactAdapter:m.func.isRequired,disableRole:m.bool,extraActionsEnabled:m.bool,hasHoverState:m.bool,highlightedEntry:m.object,invitedEntryIDs:m.instanceOf(c('immutable').Set),isLoading:m.bool,listSections:m.instanceOf(c('immutable').OrderedMap).isRequired,onAction:m.func,onHighlight:m.func,onRenderHighlight:m.func,onScrollIntoView:m.func,onSelect:m.func.isRequired,originalEntryIDs:m.instanceOf(c('immutable').Set),queryString:m.string,rowClassName:m.string,selectedEntryIDs:m.instanceOf(c('immutable').Set),showPresence:m.bool,thread:m.instanceOf(c('ImmutableObject')),viewer:m.string.isRequired};f.exports=n;}),null);
__d('MessengerTypeaheadResultRoute',['RelayQL','RelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='MessengerTypeaheadResultRoute';j.paramDefinition={queryString:{required:true,type:'String'},localEntryIDs:{required:true,type:'Array'},shouldQueryPages:{required:true,type:'Boolean'},shouldQueryThreadName:{required:true,type:'Boolean'},shouldQueryParticipantIDs:{required:true,type:'Boolean'},shouldQueryParticipantNames:{required:true,type:'Boolean'},shouldQueryVCEndpoint:{required:true,type:'Boolean'},shouldQueryInternalBot:{required:true,type:'Boolean'}};j.queries={profiles:function k(l,m){var n=m.shouldQueryPages,o=m.shouldQueryVCEndpoint,p=m.shouldQueryInternalBot;return function(q){return {calls:[{kind:'Call',metadata:{type:'String!'},name:'query',value:{kind:'CallVariable',callVariableName:'queryString'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(q)]),fieldName:'entities_named',kind:'Query',metadata:{identifyingArgName:'query',identifyingArgType:'String!'},name:'MessengerTypeaheadResultRoute',type:'SearchableEntitiesQuery'};}(l.getFragment('profiles',{shouldQueryPages:n,shouldQueryVCEndpoint:o,shouldQueryInternalBot:p}));},groups:function k(l,m){var n=m.queryString,o=m.localEntryIDs,p=m.shouldQueryThreadName,q=m.shouldQueryParticipantIDs,r=m.shouldQueryParticipantNames;return function(s){return {children:[].concat.apply([],[c('RelayQL').__frag(s)]),fieldName:'viewer',kind:'Query',metadata:{},name:'MessengerTypeaheadResultRoute',type:'Viewer'};}(l.getFragment('groups',{queryString:n,localEntryIDs:o,shouldQueryThreadName:p,shouldQueryParticipantIDs:q,shouldQueryParticipantNames:r}));}};f.exports=j;}),null);
__d('MessengerTypeaheadResultView.react',['cx','ChatTypeaheadConstants','immutable','Keys','MessengerContactAdapters','MessengerContactList.react','MessengerGraphQLTypeaheadHighlighter','MessengerTypeaheadUtils','MessengerGraphQLTypeaheadAdapter','MercuryConfig','MercuryParticipantTypes','MercuryTypeaheadConstants','React','Relay','RelayQL','SearchableEntry','joinClasses','wrapNullableForReact'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=20,l=50,m=c('React').PropTypes;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.$MessengerTypeaheadResultView1=null,this.onKeyDown=function(t){if(t===c('Keys').RETURN){this.props.onSelectHighlighted();return;}if(!this.$MessengerTypeaheadResultView1)return;var u=c('MessengerGraphQLTypeaheadHighlighter').getNextHighlightedEntry(t,this.$MessengerTypeaheadResultView1,this.props.queryString,this.props.highlightedEntry);this.props.onNextHighlighted(u);}.bind(this),this.$MessengerTypeaheadResultView3=function(t){this.props.onNextHighlighted(t);}.bind(this),p;}n.prototype.componentWillMount=function(){this.$MessengerTypeaheadResultView1=this.$MessengerTypeaheadResultView2(this.props);};n.prototype.componentDidMount=function(){this.props.onMount(this.onKeyDown);};n.prototype.componentWillUpdate=function(o){this.$MessengerTypeaheadResultView1=this.$MessengerTypeaheadResultView2(o);};n.prototype.componentWillUnmount=function(){this.props.onUnmount();};n.prototype.render=function(){var o=this.$MessengerTypeaheadResultView1;if(!o)return null;return c('React').createElement(c('MessengerContactList.react'),{ariaOwneeID:this.props.ariaOwneeID,className:c('joinClasses')(this.props.className,"_4p-s"),contactAdapter:c('MessengerContactAdapters').fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:c('wrapNullableForReact')(this.props.highlightedEntry),isLoading:false,listSections:c('MessengerTypeaheadUtils').buildListSections(o,this.props.queryString),onHighlight:this.$MessengerTypeaheadResultView3,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:false,viewer:this.props.viewer});};n.prototype.$MessengerTypeaheadResultView2=function(o){var p=c('MessengerTypeaheadUtils').sortEntries(this.$MessengerTypeaheadResultView4(o),o.queryString);return o.localEntries.slice(0,k).concat(p).filter(function(q){return !o.selectedEntryIDs.contains(q.getUniqueID());}).slice(0,l);};n.prototype.$MessengerTypeaheadResultView4=function(o){var p=o.localEntries,q={};p.forEach(function(fa){q[fa.getUniqueID()]=true;});var r=o.profiles.user_results.edges.map(function(fa){return c('MessengerGraphQLTypeaheadAdapter').convertProfileToEntry(fa.node);}),s=[],t=[],u=[];for(var v=r,w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var y;if(w){if(x>=v.length)break;y=v[x++];}else{x=v.next();if(x.done)break;y=x.value;}var z=y;if(!z||q[z.getUniqueID()])continue;if(z.getType()===c('MercuryParticipantTypes').FRIEND&&s.length<c('MercuryTypeaheadConstants').COMPOSER_FRIENDS_MAX){s.push(z);}else if(z.getType()===c('MercuryParticipantTypes').FB4C&&t.length<c('MercuryTypeaheadConstants').COMPOSER_FB4C_MAX){t.push(z);}else if(z.getType()===c('MercuryParticipantTypes').NON_FRIEND&&u.length<c('MercuryTypeaheadConstants').COMPOSER_NON_FRIENDS_MAX)u.push(z);}r=s.concat(t).concat(u);if(o.profiles.page_results)r=r.concat(o.profiles.page_results.edges.map(function(fa){return c('MessengerGraphQLTypeaheadAdapter').convertPageToEntry(fa.node,c('MercuryParticipantTypes').PAGE);}).filter(function(fa){return fa&&!q[fa.getUniqueID()];}).slice(0,c('MercuryTypeaheadConstants').COMPOSER_PAGES_MAX));if(o.profiles.vc_results)r=r.concat(o.profiles.vc_results.edges.map(function(fa){return c('MessengerGraphQLTypeaheadAdapter').convertPageToEntry(fa.node,c('ChatTypeaheadConstants').MEETING_ROOM_PAGE_TYPE);}));if(o.profiles.internal_bot_results)r=r.concat(o.profiles.internal_bot_results.edges.map(function(fa){return c('MessengerGraphQLTypeaheadAdapter').convertPageToEntry(fa.node,c('ChatTypeaheadConstants').INTERNAL_BOT_PAGE_TYPE);}));var aa=[],ba=[];if(o.groups&&o.groups.threads_matching_name)ba=ba.concat(o.groups.threads_matching_name.edges);if(o.groups&&o.groups.threads_matching_participant_ids)ba=ba.concat(o.groups.threads_matching_participant_ids.edges);if(o.groups&&o.groups.threads_matching_participant_names)ba=ba.concat(o.groups.threads_matching_participant_names.edges);for(var ca=0;ca<ba.length;ca++){var da=ba[ca],ea=c('MessengerGraphQLTypeaheadAdapter').convertGroupToEntry(da.node,ca);if(!ea||q[ea.getUniqueID()])continue;aa.push(ea);q[ea.getUniqueID()]=true;}return r.concat(aa);};n.propTypes={ariaOwneeID:m.string.isRequired,className:m.string.isRequired,localEntries:m.arrayOf(m.instanceOf(c('SearchableEntry'))).isRequired,localEntryIDs:m.arrayOf(m.string.isRequired).isRequired,hasHoverState:m.bool.isRequired,highlightedEntry:m.object,onMount:m.func.isRequired,onNextHighlighted:m.func.isRequired,onScrollIntoView:m.func.isRequired,onSelect:m.func.isRequired,onSelectHighlighted:m.func.isRequired,onUnmount:m.func.isRequired,originalEntryIDs:m.instanceOf(c('immutable').Set).isRequired,queryString:m.string.isRequired,selectedEntryIDs:m.instanceOf(c('immutable').Set).isRequired,shouldQueryInternalBot:m.bool.isRequired,shouldQueryPages:m.bool.isRequired,shouldQueryParticipantIDs:m.bool.isRequired,shouldQueryParticipantNames:m.bool.isRequired,shouldQueryThreadName:m.bool.isRequired,shouldQueryVCEndpoint:m.bool.isRequired,viewer:m.string.isRequired};n.defaultProps={ariaOwneeID:'',className:''};f.exports=c('Relay').createContainer(n,{initialVariables:{friendEntryCount:k,queryString:'',localEntryIDs:[],shouldQueryPages:false,shouldQueryThreadName:false,shouldQueryParticipantIDs:false,shouldQueryParticipantNames:false,shouldQueryVCEndpoint:false,shouldQueryInternalBot:false},fragments:{profiles:function o(p){var q=p.friendEntryCount,r=p.shouldQueryPages,s=p.shouldQueryVCEndpoint;return function(t,u,v,w,x){return {children:[{alias:'user_results',calls:[{kind:'Call',metadata:{type:'[SearchEntityType]'},name:'of_type',value:{kind:'CallValue',callValue:'user'}},{kind:'Call',metadata:{},name:'first',value:{kind:'CallVariable',callVariableName:'friendEntryCount'}}],children:[{children:[{children:[].concat.apply([],[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(t),{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true,isRequisite:true},type:'Searchable'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'SearchableResultsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],fieldName:'search_results',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'SearchableResultsConnection'},{alias:'page_results',calls:[{kind:'Call',metadata:{},name:'messenger_commerce',value:{kind:'CallValue',callValue:true}},{kind:'Call',metadata:{},name:'include_games',value:{kind:'CallValue',callValue:true}},{kind:'Call',metadata:{},name:'first',value:{kind:'CallValue',callValue:5}}],children:[{children:[{children:[].concat.apply([],[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(u),c('RelayQL').__frag(v),{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true,isRequisite:true},type:'Searchable'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'SearchableResultsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],directives:[{kind:'Directive',name:'include',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'shouldQueryPages'}}]}],fieldName:'search_results',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'SearchableResultsConnection'},{alias:'vc_results',calls:[{kind:'Call',metadata:{},name:'vc_endpoint',value:{kind:'CallValue',callValue:true}},{kind:'Call',metadata:{},name:'first',value:{kind:'CallValue',callValue:20}}],children:[{children:[{children:[].concat.apply([],[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(w),{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true,isRequisite:true},type:'Searchable'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'SearchableResultsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],directives:[{kind:'Directive',name:'include',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'shouldQueryVCEndpoint'}}]}],fieldName:'search_results',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'SearchableResultsConnection'},{alias:'internal_bot_results',calls:[{kind:'Call',metadata:{},name:'internal_bot',value:{kind:'CallValue',callValue:true}},{kind:'Call',metadata:{},name:'first',value:{kind:'CallValue',callValue:20}}],children:[{children:[{children:[].concat.apply([],[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(x),{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,isAbstract:true,isRequisite:true},type:'Searchable'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'SearchableResultsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],directives:[{kind:'Directive',name:'include',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'shouldQueryInternalBot'}}]}],fieldName:'search_results',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true},type:'SearchableResultsConnection'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerTypeaheadResultView_react_ProfilesRelayQL',type:'SearchableEntitiesQuery'};}(c('MessengerGraphQLTypeaheadAdapter').userFragment,c('MessengerGraphQLTypeaheadAdapter').pageFragment,c('MessengerGraphQLTypeaheadAdapter').gameFragment,c('MessengerGraphQLTypeaheadAdapter').pageFragment,c('MessengerGraphQLTypeaheadAdapter').pageFragment);},groups:function o(p){var q=p.queryString,r=p.localEntryIDs,s=p.shouldQueryThreadName,t=p.shouldQueryParticiapnts,u=p.shouldQueryParticipantNames;return function(v,w,x,y,z,aa){return {children:[{alias:'threads_matching_name',calls:[{kind:'Call',metadata:{},name:'with_thread_name',value:{kind:'CallVariable',callVariableName:'queryString'}},{kind:'Call',metadata:{},name:'last',value:c('RelayQL').__var(v)}],children:[{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(w)]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'MessageThread'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'ViewerMessageThreadsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],directives:[{kind:'Directive',name:'include',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'shouldQueryThreadName'}}]}],fieldName:'message_threads',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'ViewerMessageThreadsConnection'},{alias:'threads_matching_participant_ids',calls:[{kind:'Call',metadata:{},name:'with_participant_ids',value:{kind:'CallVariable',callVariableName:'localEntryIDs'}},{kind:'Call',metadata:{},name:'last',value:c('RelayQL').__var(x)}],children:[{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(y)]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'MessageThread'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'ViewerMessageThreadsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],directives:[{kind:'Directive',name:'include',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'shouldQueryParticipantIDs'}}]}],fieldName:'message_threads',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'ViewerMessageThreadsConnection'},{alias:'threads_matching_participant_names',calls:[{kind:'Call',metadata:{},name:'with_participants',value:{kind:'CallVariable',callVariableName:'queryString'}},{kind:'Call',metadata:{},name:'with_group',value:{kind:'CallValue',callValue:true}},{kind:'Call',metadata:{},name:'last',value:c('RelayQL').__var(z)}],children:[{children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(aa)]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isRequisite:true},type:'MessageThread'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'ViewerMessageThreadsEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],directives:[{kind:'Directive',name:'include',args:[{name:'if',value:{kind:'CallVariable',callVariableName:'shouldQueryParticipantNames'}}]}],fieldName:'message_threads',kind:'Field',metadata:{canHaveSubselections:true,isConnection:true,isFindable:true},type:'ViewerMessageThreadsConnection'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessengerTypeaheadResultView_react_GroupsRelayQL',type:'Viewer'};}(c('MercuryConfig').MaxThreadResults,c('MessengerGraphQLTypeaheadAdapter').groupFragment,c('MercuryConfig').MaxThreadResults,c('MessengerGraphQLTypeaheadAdapter').groupFragment,c('MercuryConfig').MaxThreadResults,c('MessengerGraphQLTypeaheadAdapter').groupFragment);}}});}),null);
__d('MessengerTypeaheadTopFriendsView.react',['cx','immutable','Keys','MessengerContactAdapters','MessengerContactList.react','MessengerGraphQLTypeaheadHighlighter','MessengerTypeaheadUtils','React','joinClasses','wrapNullableForReact'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.onKeyDown=function(r){if(r===c('Keys').RETURN){this.props.onSelectHighlighted();return;}var s=c('MessengerGraphQLTypeaheadHighlighter').getNextHighlightedEntry(r,this.props.entries.toArray(),this.props.queryString,this.props.highlightedEntry);this.props.onNextHighlighted(s);}.bind(this),this.$MessengerTypeaheadTopFriendsView1=function(r){this.props.onNextHighlighted(r);}.bind(this),n;}l.prototype.componentWillMount=function(){if(this.props.hasHoverState)if(this.props.entries.size>0)this.props.onNextHighlighted(this.props.entries.first());};l.prototype.componentDidMount=function(){this.props.onMount(this.onKeyDown);};l.prototype.componentWillUnmount=function(){this.props.onUnmount();};l.prototype.render=function(){return c('React').createElement(c('MessengerContactList.react'),{ariaOwneeID:this.props.ariaOwneeID,className:c('joinClasses')(this.props.className,"_4p-s"),contactAdapter:c('MessengerContactAdapters').fromSearchableEntry,hasHoverState:this.props.hasHoverState,highlightedEntry:c('wrapNullableForReact')(this.props.highlightedEntry),isLoading:!!this.props.queryString,listSections:c('MessengerTypeaheadUtils').buildListSections(this.props.entries.toArray(),this.props.queryString),onHighlight:this.$MessengerTypeaheadTopFriendsView1,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,showPresence:false,viewer:this.props.viewer});};l.propTypes={ariaOwneeID:k.string.isRequired,className:k.string.isRequired,entries:k.instanceOf(c('immutable').List).isRequired,hasHoverState:k.bool.isRequired,highlightedEntry:k.object,onNextHighlighted:k.func.isRequired,onMount:k.func.isRequired,onScrollIntoView:k.func.isRequired,onSelect:k.func.isRequired,onSelectHighlighted:k.func.isRequired,onUnmount:k.func.isRequired,originalEntryIDs:k.instanceOf(c('immutable').Set).isRequired,queryString:k.string.isRequired,selectedEntryIDs:k.instanceOf(c('immutable').Set).isRequired,viewer:k.string.isRequired};l.defaultProps={ariaOwneeID:'',className:''};f.exports=l;}),null);
__d('MessengerGraphQLTypeaheadView.react',['CurrentUser','immutable','MercuryParticipantTypes','MercuryTypeaheadConstants','MessengerTypeaheadLocalCache','MessengerTypeaheadResultRoute','MessengerTypeaheadResultView.react','MessengerTypeaheadTopFriendsView.react','MessengerTypeaheadUtils','React','RelayRootContainer','createCancelableFunction','debounce'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes,k=100;h=babelHelpers.inherits(l,c('React').Component);i=h&&h.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=i.constructor).call.apply(m,[this].concat(p)),this.state={route:null,localEntries:c('immutable').List(),highlightedEntry:null},this.$MessengerGraphQLTypeaheadView1=null,this.$MessengerGraphQLTypeaheadView2=null,this.$MessengerGraphQLTypeaheadView3=null,this.$MessengerGraphQLTypeaheadView4=true,this.$MessengerGraphQLTypeaheadView7=function(r){this.$MessengerGraphQLTypeaheadView3=r;}.bind(this),this.$MessengerGraphQLTypeaheadView10=function(){this.$MessengerGraphQLTypeaheadView3=null;}.bind(this),this.$MessengerGraphQLTypeaheadView8=function(r){this.setState({highlightedEntry:r});}.bind(this),this.$MessengerGraphQLTypeaheadView9=function(){if(this.state.highlightedEntry)this.props.onSelect(this.state.highlightedEntry);}.bind(this),n;}l.prototype.componentDidMount=function(){this.$MessengerGraphQLTypeaheadView5();this.$MessengerGraphQLTypeaheadView2=c('debounce')(function(){if(this.$MessengerGraphQLTypeaheadView4){var m=new (c('MessengerTypeaheadResultRoute'))(this.$MessengerGraphQLTypeaheadView6());this.setState({route:m});}}.bind(this),150,this,true);};l.prototype.componentWillReceiveProps=function(m){this.setState({highlightedEntry:null});if(!m.queryString){this.$MessengerGraphQLTypeaheadView5();}else if(m.queryString!==this.props.queryString){this.$MessengerGraphQLTypeaheadView2&&this.$MessengerGraphQLTypeaheadView2();c('MessengerTypeaheadLocalCache').search(m.queryString,function(n,o){if(this.$MessengerGraphQLTypeaheadView4)if(o===m.queryString){var p=c('MessengerTypeaheadUtils').sortEntries(n,o).slice(0,this.props.maxEntries),q=this.props.enableMessageSearch?c('MessengerTypeaheadUtils').getMessageSearchEntry(o):null;if(q)p.unshift(q);var r=c('immutable').List(p).filter(function(s){if(this.props.excludeGroups&&s.getType()===c('MercuryParticipantTypes').THREAD)return false;if(this.props.excludePages&&s.getType()===c('MercuryParticipantTypes').PAGE)return false;return true;}.bind(this));this.setState({localEntries:r});}}.bind(this));}};l.prototype.shouldComponentUpdate=function(m,n){return m.queryString!==this.props.queryString||m.isFocused!==this.props.isFocused||n.localEntries!==this.state.localEntries||n.route!==this.state.route||n.highlightedEntry!==this.state.highlightedEntry;};l.prototype.componentWillUnmount=function(){if(this.$MessengerGraphQLTypeaheadView1)this.$MessengerGraphQLTypeaheadView1.cancel();this.$MessengerGraphQLTypeaheadView4=false;};l.prototype.render=function(){if(!this.props.isFocused&&!this.props.queryString||!c('MessengerTypeaheadLocalCache').isBootstrapped())return null;if(!this.props.queryString||!this.state.route)return c('React').createElement(c('MessengerTypeaheadTopFriendsView.react'),{className:this.props.typeaheadViewClassName,entries:this.state.localEntries,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onMount:this.$MessengerGraphQLTypeaheadView7,onNextHighlighted:this.$MessengerGraphQLTypeaheadView8,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$MessengerGraphQLTypeaheadView9,onUnmount:this.$MessengerGraphQLTypeaheadView10,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer});var m=this.$MessengerGraphQLTypeaheadView6();return c('React').createElement(c('RelayRootContainer'),{Component:c('MessengerTypeaheadResultView.react'),route:this.state.route,renderLoading:function(){return c('React').createElement(c('MessengerTypeaheadTopFriendsView.react'),{className:this.props.typeaheadViewClassName,entries:this.state.localEntries.filter(function(n){return !this.props.selectedEntryIDs.contains(n.getUniqueID());}.bind(this)),hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,onNextHighlighted:this.$MessengerGraphQLTypeaheadView8,onMount:this.$MessengerGraphQLTypeaheadView7,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$MessengerGraphQLTypeaheadView9,onUnmount:this.$MessengerGraphQLTypeaheadView10,originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer});}.bind(this),renderFetched:function(n){return c('React').createElement(c('MessengerTypeaheadResultView.react'),babelHelpers['extends']({},n,{className:this.props.typeaheadViewClassName,hasHoverState:this.props.hasHoverState,highlightedEntry:this.state.highlightedEntry,localEntries:this.state.localEntries.toArray(),onMount:this.$MessengerGraphQLTypeaheadView7,onNextHighlighted:this.$MessengerGraphQLTypeaheadView8,onScrollIntoView:this.props.onScrollIntoView,onSelect:this.props.onSelect,onSelectHighlighted:this.$MessengerGraphQLTypeaheadView9,onUnmount:this.$MessengerGraphQLTypeaheadView10,originalEntryIDs:this.props.originalEntryIDs,selectedEntryIDs:this.props.selectedEntryIDs,viewer:this.props.viewer},m));}.bind(this)});};l.prototype.onKeyDown=function(m){this.$MessengerGraphQLTypeaheadView3&&this.$MessengerGraphQLTypeaheadView3(m);};l.prototype.$MessengerGraphQLTypeaheadView5=function(){this.setState({localEntries:c('immutable').List()});this.$MessengerGraphQLTypeaheadView1=c('createCancelableFunction')(function(m,n,o){var p=m.slice(0,50);if(!this.props.excludeGroups)p=p.concat(n);if(!o||!this.props.queryString){var q=this.props.enableMessageSearch?c('MessengerTypeaheadUtils').getMessageSearchEntry(this.props.queryString):null;if(q)p.unshift(q);this.setState({localEntries:c('immutable').List(p)});}}.bind(this));c('MessengerTypeaheadLocalCache').onEntriesLoaded(function(m,n,o){if(this.$MessengerGraphQLTypeaheadView1)this.$MessengerGraphQLTypeaheadView1(m,n,o);this.$MessengerGraphQLTypeaheadView1=null;}.bind(this));};l.prototype.$MessengerGraphQLTypeaheadView6=function(){var m=this.state.localEntries.toArray(),n=m.filter(function(u){return (u.getType()!==c('MercuryTypeaheadConstants').SEARCH_TYPE);}).map(function(u){return u.getUniqueID();}),o=!this.props.excludeGroups&&this.props.queryString&&this.props.queryString.length>1,p=!this.props.excludeGroups&&n.length>0,q=!this.props.excludeGroups&&(!p||c('CurrentUser').isEmployee()),r=!this.props.excludePages,s=this.props.shouldQueryVCEndpoint&&(c('CurrentUser').isEmployee()||c('CurrentUser').isWorkUser()),t=this.props.shouldQueryInternalBot&&c('CurrentUser').isEmployee()&&c('CurrentUser').isWorkUser();return {queryString:this.props.queryString,localEntryIDs:n,shouldQueryPages:r,shouldQueryThreadName:o,shouldQueryParticipantIDs:p,shouldQueryParticipantNames:q,shouldQueryVCEndpoint:s,shouldQueryInternalBot:t};};l.propTypes={enableMessageSearch:j.bool.isRequired,excludeGroups:j.bool.isRequired,excludePages:j.bool.isRequired,isFocused:j.bool.isRequired,hasHoverState:j.bool.isRequired,maxEntries:j.number.isRequired,onScrollIntoView:j.func.isRequired,onSelect:j.func.isRequired,originalEntryIDs:j.instanceOf(c('immutable').Set).isRequired,queryString:j.string.isRequired,selectedEntryIDs:j.instanceOf(c('immutable').Set).isRequired,shouldQueryInternalBot:j.bool.isRequired,shouldQueryVCEndpoint:j.bool.isRequired,typeaheadViewClassName:j.string.isRequired,viewer:j.string.isRequired};l.defaultProps={maxEntries:k,typeaheadViewClassName:''};f.exports=l;}),null);
__d('MessengerScrollableArea.react',['cx','React','ReactDOM','ScrollableArea.react','Style','UserAgent','clearImmediate','joinClasses','setImmediate','throttle'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=20;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),n.call(this),p;}m.prototype.componentDidMount=function(){this.$MessengerScrollableArea2=c('setImmediate')(this.$MessengerScrollableArea4);this.$MessengerScrollableArea1=true;this.$MessengerScrollableArea3=c('throttle')(this.$MessengerScrollableArea5,50);};m.prototype.componentWillUnmount=function(){c('clearImmediate')(this.$MessengerScrollableArea2);this.$MessengerScrollableArea1=false;};m.prototype.render=function(){return (c('React').createElement(c('ScrollableArea.react'),{className:c('joinClasses')("_5f0v",this.props.className),height:this.props.height,onScroll:this.props.needsFastScrollHandler?this.$MessengerScrollableArea5:this.$MessengerScrollableArea3,ref:'scrollable',shadow:false,tabIndex:this.props.tabIndex,width:this.props.width},this.props.children));};m.prototype.scrollToPosition=function(o){var p=arguments.length<=1||arguments[1]===undefined?false:arguments[1],q=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],r=this.getArea();if(!r)return;r.setScrollTop(o,p,q);};m.propTypes={needsFastScrollHandler:k.bool,onScroll:k.func,width:k.number};var n=function o(){this.$MessengerScrollableArea1=false;this.$MessengerScrollableArea2=null;this.$MessengerScrollableArea5=function(){if(this.$MessengerScrollableArea1){var p;this.props.onScroll&&(p=this.props).onScroll.apply(p,arguments);}}.bind(this);this.$MessengerScrollableArea4=function(){if(!c('UserAgent').isBrowser('IE'))return;var p=this.refs.scrollable.refs.wrap,q=this.refs.scrollable.refs.body;if(!q||!p)return;q=c('ReactDOM').findDOMNode(q);p=c('ReactDOM').findDOMNode(p);var r=p.offsetWidth-p.clientWidth;if(r>0)c('Style').set(q,'margin-right',-r+'px');}.bind(this);this.getArea=function(){return this.refs.scrollable.getArea();}.bind(this);this.scrollToBottom=function(){var p=this.getArea();if(p)this.scrollToPosition(p.getScrollHeight());}.bind(this);this.scrollToTop=function(p){var q=this.getArea();if(q)q.scrollToTop(!!p);}.bind(this);this.isScrolledToBottom=function(){return this.isScrolledToBottomWithHeight(0);}.bind(this);this.isScrolledToBottomWithHeight=function(p){var q=this.getArea();if(!q)return false;return q.getScrollTop()+q.getClientHeight()+p>=q.getScrollHeight()-l;}.bind(this);this.isScrolledToTop=function(){var p=this.getArea();if(!p)return true;return p.getScrollTop()<=l;}.bind(this);this.getScrollTop=function(){var p=this.getArea();if(!p)return 0;return p.getScrollTop();}.bind(this);};f.exports=m;}),null);
__d('MessengerGraphQLSearchTypeahead.react',['cx','ix','BootloadOnRender.react','ContextualLayer.react','Event','Image.react','immutable','JSResource','Keys','LazyComponent.react','MercuryIDs','MercuryThreadIDMap','MercuryThreads','MercuryTypeaheadConstants','MercuryVanityIDMap','MessengerActions','MessengerGraphQLTypeaheadView.react','MessengerScrollableArea.react','MessengerSpinner.react','MessengerTypeaheadUtils','QuicksilverConstants','React','ReactDOM','ReactLayeredComponentMixin_DEPRECATED','clearImmediate','emptyFunction','joinClasses','setImmediate'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('MercuryThreadIDMap').get(),k=c('MercuryThreads').get(),l=c('React').PropTypes,m=i('/images/mercury/clients/messenger/threadlist/InboxThreadDismiss.png'),n=30,o=100,p=c('React').createClass({displayName:'MessengerGraphQLSearchTypeahead',mixins:[c('ReactLayeredComponentMixin_DEPRECATED')],_input:null,_timer:null,_view:null,propTypes:{className:l.string.isRequired,context:l.object,enableMessageSearch:l.bool.isRequired,excludeGroups:l.bool.isRequired,excludePages:l.bool.isRequired,hasHoverState:l.bool.isRequired,hideClearButton:l.bool.isRequired,hideResults:l.bool,isFacebookChat:l.bool.isRequired,isFocused:l.bool.isRequired,isTokenizer:l.bool.isRequired,onBackspace:l.func.isRequired,onBlur:l.func.isRequired,onChange:l.func.isRequired,onClear:l.func.isRequired,onClick:l.func.isRequired,onFocus:l.func.isRequired,onScrollIntoView:l.func.isRequired,onSelect:l.func.isRequired,originalEntryIDs:l.instanceOf(c('immutable').Set).isRequired,placeholder:l.string.isRequired,queryString:l.string.isRequired,scrollableViewClassName:l.string.isRequired,selectedEntryIDs:l.instanceOf(c('immutable').Set).isRequired,shouldQueryInternalBot:l.bool.isRequired,shouldQueryVCEndpoint:l.bool.isRequired,tabIndex:l.number,typeaheadViewClassName:l.string.isRequired,useLayer:l.bool.isRequired,viewer:l.string.isRequired,width:l.number},getInitialState:function q(){return {gameID:null};},getDefaultProps:function q(){return {isFacebookChat:false,isTokenizer:false,onBackspace:c('emptyFunction'),onChange:c('emptyFunction'),onClear:c('emptyFunction'),onClick:c('emptyFunction'),onScrollIntoView:c('emptyFunction'),originalEntryIDs:c('immutable').Set(),placeholder:'',scrollableViewClassName:'',selectedEntryIDs:c('immutable').Set(),typeaheadViewClassName:'',useLayer:false};},componentDidMount:function q(){this._timer=c('setImmediate')(this._syncInputWidth);},componentDidUpdate:function q(){clearTimeout(this._timer);this._timer=c('setImmediate')(this._syncInputWidth);},componentWillUnmount:function q(){clearTimeout(this._timer);},renderLayers:function q(){if(!this.props.useLayer)return {};var r=null,s=null;if(this.props.context){r=this.props.context;}else s=function(){return this._input;}.bind(this);return {typeaheadView:c('React').createElement(c('ContextualLayer.react'),{context:r,contextRef:s,position:"below",shown:this.props.queryString&&this.props.isFocused,shouldSetARIAProperties:false},this._renderView())};},render:function q(){var r=this.props.useLayer?null:this._renderView();return (c('React').createElement('div',{className:(!this.props.isTokenizer?"_3rh8":'')+(this.props.isTokenizer?' '+"_3mkz":'')},c('React').createElement('span',{className:c('joinClasses')(this.props.className,"_58ah"+(this.props.hideResults?' '+"_1a03":'')),onChange:this.props.onChange,onSelect:c('emptyFunction'),tabIndex:null},c('React').createElement('label',{className:"_58ak"},c('React').createElement('input',{className:"_58al",disabled:this.props.hideResults,onBlur:this._handleBlur,onClick:this.props.onClick,onFocus:this.props.onFocus,onKeyDown:function(s){return this._handleKeyDown(s);}.bind(this),placeholder:this.props.placeholder,ref:function(s){return this._input=s;}.bind(this),spellCheck:false,tabIndex:this.props.tabIndex,type:'text',value:this.props.queryString})),r),c('React').createElement(c('Image.react'),{onMouseDown:this.props.onClear,className:(this.props.hideClearButton?"hidden_elem":'')+(' '+"_2xme"),src:m}),c('React').createElement('span',{ref:'textSizeProxy',className:"_58-3",'aria-hidden':'true'},this.props.queryString||this.props.placeholder),this._renderGame()));},focusInput:function q(){this._input&&this._input.focus();},_syncInputWidth:function q(){if(!this.props.isTokenizer)return;var r=c('ReactDOM').findDOMNode(this.refs.textSizeProxy),s=r?r.offsetWidth:0;if(s===0)return;if(this._input)this._input.style.width=s+'px';},_renderGame:function q(){if(!this.state.gameID)return null;return (c('React').createElement(c('BootloadOnRender.react'),{loader:c('JSResource')('MessengerGamesQuicksilverPlayerContainer.react').__setRef('MessengerGraphQLSearchTypeahead.react'),placeholder:c('React').createElement(c('MessengerSpinner.react'),null),component:c('React').createElement(c('LazyComponent.react'),{gameID:this.state.gameID,onHide:this._handleHideGame,source:c('QuicksilverConstants').FUNNEL_SOURCE_MESSENGER_GAME_SEARCH,threadFBID:null})}));},_renderView:function q(){if(!this.props.queryString&&!this.props.isFocused)return null;var r=this.props.isTokenizer?n:o,s=c('React').createElement(c('MessengerGraphQLTypeaheadView.react'),{enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,isFocused:this.props.isFocused,hasHoverState:this.props.hasHoverState,maxEntries:r,onScrollIntoView:this._handleScrollIntoView,onSelect:function(t){return this._handleSelect(t);}.bind(this),originalEntryIDs:this.props.originalEntryIDs,queryString:this.props.queryString,ref:function(t){return this._view=t;}.bind(this),shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,selectedEntryIDs:this.props.selectedEntryIDs,typeaheadViewClassName:this.props.typeaheadViewClassName,viewer:this.props.viewer});if(this.props.isTokenizer){return (c('React').createElement(c('MessengerScrollableArea.react'),{className:this.props.scrollableViewClassName,ref:'scrollable',width:this.props.width},s));}else return s;},_handleScrollIntoView:function q(r){if(!r)return;if(!this.props.isTokenizer){this.props.onScrollIntoView(r);return;}if(this.refs.scrollable)c('MessengerTypeaheadUtils').scrollEntryIntoView(r,this.refs.scrollable);},_handleSelect:function q(r){var s=r.getUniqueID(),t=r.getType(),u=r.getAuxiliaryData().alias;if(u)c('MercuryVanityIDMap').set(u,c('MercuryIDs').getParticipantIDFromUserID(s));if(t===c('MercuryTypeaheadConstants').SEARCH_TYPE){c('MessengerActions').changeQueryAll(this.props.queryString);}else if(t===c('MercuryTypeaheadConstants').GAME_TYPE){this.setState({gameID:s});}else if(t===c('MercuryTypeaheadConstants').THREAD_TYPE){j.getClientIDFromServerID(s,function(v){return this.props.onSelect(v,t,r);}.bind(this));}else k.getThreadMeta(c('MercuryIDs').getThreadIDFromUserID(s),function(v){return this.props.onSelect(v.thread_id,t,r);}.bind(this));},_handleHideGame:function q(){this.setState({gameID:null});},_handleKeyDown:function q(r){var s=r.keyCode;if(s===c('Keys').DOWN||s===c('Keys').UP||s===c('Keys').RETURN){this._view&&this._view.onKeyDown&&this._view.onKeyDown(s);}else if(s===c('Keys').BACKSPACE){this.props.onBackspace(r);}else if(s===c('Keys').ESC)this._input&&this._input.blur();},_handleBlur:function q(){var r=null,s=c('Event').listen(window,'blur',function(){s.remove();c('clearImmediate')(r);});r=c('setImmediate')(function(){s.remove();this.props.onBlur();}.bind(this));}});f.exports=p;}),null);
__d('MessengerTokenizerToken.react',['cx','Keys','React','SearchableEntry','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=100;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$MessengerTokenizerToken2=function(event){if(event.keyCode===c('Keys').BACKSPACE){event.preventDefault();this.props.onRemove&&this.props.onRemove(this.props.entry);}}.bind(this),o;}m.prototype.render=function(){return c('React').createElement('span',{className:c('joinClasses')(this.props.className,"_14-8"),label:null,onClick:this.$MessengerTokenizerToken1,onKeyDown:this.$MessengerTokenizerToken2,role:'option',tabIndex:this.props.index+l},c('React').createElement('span',{'aria-label':this.props.label,title:this.props.label,className:"_14-9"},this.props.label));};m.prototype.$MessengerTokenizerToken1=function(event){event.stopPropagation();};m.propTypes={className:k.string,entry:k.instanceOf(c('SearchableEntry')),index:k.number,label:k.string.isRequired,onRemove:k.func};f.exports=m;}),null);
__d('MessengerGraphQLTokenizer.react',['cx','invariant','immutable','MessengerGraphQLSearchTypeahead.react','MessengerTokenizerToken.react','React','joinClasses','setImmediate'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={focused:this.props.autoFocus,queryString:''},this.focusInput=function(){this.refs.typeahead&&this.refs.typeahead.focusInput();}.bind(this),this.$MessengerGraphQLTokenizer2=function(event){if(this.state.queryString||this.props.entries.size===0)return;this.$MessengerGraphQLTokenizer6(this.props.entries.last());event.preventDefault();c('setImmediate')(this.focusInput);}.bind(this),this.$MessengerGraphQLTokenizer3=function(event){event.target instanceof HTMLInputElement||i(0);this.setState({queryString:event.target.value});}.bind(this),this.$MessengerGraphQLTokenizer4=function(){this.setState({queryString:''});this.props.onClear&&this.props.onClear();}.bind(this),this.$MessengerGraphQLTokenizer5=function(s,t,u){var v=this.props.entries,w=u.getUniqueID();if(this.props.originalEntryIDs.contains(w)){return;}else if(v.some(function(x){return (x.getUniqueID()===w);})){this.$MessengerGraphQLTokenizer6(u);return;}this.props.onAddEntryAttempt(u);this.setState({queryString:''});}.bind(this),this.$MessengerGraphQLTokenizer6=function(s){this.props.onRemoveEntryAttempt(s);}.bind(this),o;}m.prototype.componentDidMount=function(){if(this.props.autoFocus)c('setImmediate')(this.focusInput);};m.prototype.render=function(){var n=this.props.entries.map(function(q,r){return this.$MessengerGraphQLTokenizer1(q,r);}.bind(this)),o=n.size>0?'':this.props.placeholder,p=this.props.forceHideClearButton||this.state.queryString===''&&this.props.entries.isEmpty();return c('React').createElement('div',null,c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_14-7")},c('React').createElement('div',{className:c('joinClasses')("_58-2",'clearfix')},n,c('React').createElement(c('MessengerGraphQLSearchTypeahead.react'),{className:"_58-0",context:this.props.context,enableMessageSearch:this.props.enableMessageSearch,excludeGroups:this.props.excludeGroups,excludePages:this.props.excludePages,hasHoverState:this.props.hasHoverState,hideClearButton:p,isFacebookChat:false,isFocused:this.state.focused,isTokenizer:true,onBlur:function(){return this.setState({focused:false});}.bind(this),onBackspace:this.$MessengerGraphQLTokenizer2,onChange:this.$MessengerGraphQLTokenizer3,onClear:this.$MessengerGraphQLTokenizer4,onFocus:function(){return this.setState({focused:true});}.bind(this),onSelect:this.$MessengerGraphQLTokenizer5,originalEntryIDs:this.props.originalEntryIDs,placeholder:o,queryString:this.state.queryString,ref:'typeahead',selectedEntryIDs:c('immutable').Seq(this.props.entries).map(function(q){return q.getUniqueID();}).toSet(),scrollableViewClassName:this.props.scrollableViewClassName,shouldQueryInternalBot:this.props.shouldQueryInternalBot,shouldQueryVCEndpoint:this.props.shouldQueryVCEndpoint,tabIndex:this.props.tabIndex,useLayer:this.props.useLayer,viewer:this.props.viewer,width:this.props.width}))),this.state.queryString===''&&!this.state.focused?this.props.defaultEntries:null);};m.prototype.$MessengerGraphQLTokenizer1=function(n,o){return c('React').createElement(c('MessengerTokenizerToken.react'),{className:"_2ei6",key:n.getUniqueID(),label:n.getTitle(),entry:n,index:o,onRemove:this.$MessengerGraphQLTokenizer6});};m.propTypes={autoFocus:l.bool.isRequired,className:l.string.isRequired,context:l.object,defaultEntries:l.element,enableMessageSearch:l.bool.isRequired,entries:l.instanceOf(c('immutable').List).isRequired,excludeGroups:l.bool.isRequired,excludePages:l.bool.isRequired,forceHideClearButton:l.bool,hasHoverState:l.bool.isRequired,onAddEntryAttempt:l.func.isRequired,onClear:l.func,onRemoveEntryAttempt:l.func.isRequired,originalEntryIDs:l.instanceOf(c('immutable').Set).isRequired,placeholder:l.node.isRequired,scrollableViewClassName:l.string.isRequired,shouldQueryInternalBot:l.bool.isRequired,shouldQueryVCEndpoint:l.bool.isRequired,tabIndex:l.number,useLayer:l.bool.isRequired,viewer:l.string.isRequired,width:l.number.isRequired};f.exports=m;}),null);
__d('MessengerDialogCancelButton.react',['fbt','MessengerDialogButton.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){return (c('React').createElement(c('MessengerDialogButton.react'),babelHelpers['extends']({action:'cancel',label:h._("Cancel"),type:'secondary'},this.props)));};function k(){i.apply(this,arguments);}f.exports=k;}),null);